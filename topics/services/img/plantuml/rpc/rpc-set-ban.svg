<svg contentStyleType="text/css" height="1291" preserveAspectRatio="none" viewBox="0 0 899 1291" width="899" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m0 0h899v1291h-899z" fill="#f0f8ff"/><path d="m438.4941 67.7988h10v1162.0156h-10z" fill="#fff" stroke="#181818"/><path d="m630.7476 97.1094h10v127.1973h-10z" fill="#fff" stroke="#181818"/><path d="m719.1865 494.9883h10v720.8262h-10z" fill="#fff" stroke="#181818"/><path d="m10 112.1094h882.8013v1110.7051h-882.8013z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m20 239.3066h862.8013v976.5078h-862.8013z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m30 344.5039h842.8013v864.3105h-842.8013z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m40 509.9883h727.5801v283.9922h-727.5801z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m40 852.2461h749.0928v268.6816h-749.0928z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m76 36.4883v1203.3262" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m443.2192 36.4883v1203.3262" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m635.7021 36.4883v1203.3262" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m723.793 36.4883v1203.3262" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="53.5049" x="50" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="57" y="25.5352">Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="53.5049" x="50" y="1238.8145"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="57" y="1259.3496">Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="86.5498" x="400.2192" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.5498" x="407.2192" y="25.5352">RPC Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="86.5498" x="400.2192" y="1238.8145"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.5498" x="407.2192" y="1259.3496">RPC Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="90.0908" x="590.7021" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0908" x="597.7021" y="25.5352">P2P Service</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="90.0908" x="590.7021" y="1238.8145"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0908" x="597.7021" y="1259.3496">P2P Service</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="66.7871" x="690.793" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.7871" x="697.793" y="25.5352">Ban List</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="66.7871" x="690.793" y="1238.8145"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.7871" x="697.793" y="1259.3496">Ban List</text><path d="m438.4941 67.7988h10v1162.0156h-10z" fill="#fff" stroke="#181818"/><path d="m630.7476 97.1094h10v127.1973h-10z" fill="#fff" stroke="#181818"/><path d="m719.1865 494.9883h10v720.8262h-10z" fill="#fff" stroke="#181818"/><path d="m426.4941 63.7988 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m76.7524 67.7988h355.7417" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342.7417" x="83.7524" y="63.0566">SetBanCmd(ipOrSubnet, command, bantime, absolute)</text><path d="m618.7476 93.1094 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m448.4941 97.1094h176.2535" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3516" x="455.4941" y="92.3672">GetBanList(ctx)</text><path d="m10 112.1094h62.1387v7.3105l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 112.1094h882.8013v1110.7051h-882.8013z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="125.6777">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136.5439" x="87.1387" y="124.7441">[Ban List Retrieval Fails]</text><path d="m459.4941 146.7305-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m453.4941 150.7305h176.2535" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="465.4941" y="145.9883">Return error</text><path d="m87.7524 176.041-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m81.7524 180.041h355.7417" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="93.7524" y="175.2988">Return error</text><path d="m10 189.041h882.8013" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110.4512" x="15" y="199.6758">[Ban List Retrieved]</text><path d="m459.4941 220.3066-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m453.4941 224.3066h181.2535" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4409" x="465.4941" y="219.5645">Return ban list</text><path d="m20 239.3066h62.1387v7.3106l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m20 239.3066h862.8013v976.5078h-862.8013z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="252.875">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105.6226" x="97.1387" y="251.9414">[Invalid IP/Subnet]</text><path d="m87.7524 292.2383-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m81.7524 296.2383h355.7417" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="93.7524" y="291.4961">Return error</text><path d="m453 261.6172v55h246v-45l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m689 261.6172v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5098" x="459" y="279.1855">Error response:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.437" x="459" y="294.4961">- Code: ErrRPCInvalidParameter</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.4941" x="459" y="309.8066">- Message: "IPOrSubnet is required"</text><path d="m20 323.5488h862.8013" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="95.9116" x="25" y="334.1836">[Valid IP/Subnet]</text><path d="m30 344.5039h62.1387v7.3106l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m30 344.5039h842.8013v864.3105h-842.8013z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="45" y="358.0723">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110.3276" x="107.1387" y="357.1387">[command = "add"]</text><path d="m448.4941 417.9014h42" stroke="#666"/><path d="m490.4941 417.9014v13" stroke="#666"/><path d="m449.4941 430.9014h41" stroke="#666"/><path d="m459.4941 426.9014-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.2534" x="455.4941" y="413.1592">Calculate expiration time</text><path d="m635.2534 366.8145v101h217v-91l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m842.2534 366.8145v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9609" x="641.2534" y="384.3828">If bantime = 0:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.8076" x="657.7065" y="399.6934">Set 24-hour default</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.7085" x="641.2534" y="415.0039">If absolute = true:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.4385" x="657.7065" y="430.3145">Use bantime as timestamp</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.7866" x="641.2534" y="445.625">Else:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.6006" x="657.7065" y="460.9355">Add bantime to current time</text><path d="m707.1865 490.9883 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m448.4941 494.9883h264.6924" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.2026" x="455.4941" y="490.2461">Add(ctx, ipOrSubnet, expirationTime)</text><path d="m40 509.9883h62.1387v7.3105l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m40 509.9883h727.5801v283.9922h-727.5801z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="55" y="523.5566">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="120.7798" x="117.1387" y="522.623">[Add Operation Fails]</text><path d="m459.4941 544.6094-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m453.4941 548.6094h264.6924" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="465.4941" y="543.8672">Return error</text><path d="m87.7524 592.2305-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m81.7524 596.2305h355.7417" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="93.7524" y="591.4883">Return error</text><path d="m453 561.6094v55h220v-45l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m663 561.6094v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5098" x="459" y="579.1777">Error response:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.437" x="459" y="594.4883">- Code: ErrRPCInvalidParameter</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.0449" x="459" y="609.7988">- Message: "Failed to add ban"</text><path d="m40 623.541h727.5801" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="146.2388" x="45" y="634.1758">[Add Operation Succeeds]</text><path d="m459.4941 654.8066-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m453.4941 658.8066h264.6924" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.4023" x="465.4941" y="654.0645">Return success</text><path d="m87.7524 733.0488-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m81.7524 737.0488h355.7417" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.4771" x="93.7524" y="732.3066">Return nil</text><path d="m453 671.8066v117h272v-107l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m715 671.8066v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><g fill="#333" font-family="sans-serif"><text font-size="13" lengthAdjust="spacing" textLength="102.7686" x="459" y="689.375">Response fields:</text><text font-size="13" lengthAdjust="spacing" textLength="152.5278" x="459" y="704.6855">- Returns nil on success</text><text font-size="13" lengthAdjust="spacing" textLength="4.1133" x="459" y="719.9961"></text><text font-size="13" lengthAdjust="spacing" textLength="46.1094" x="459" y="735.3066">Effects:</text><text font-size="13" lengthAdjust="spacing" textLength="183.1362" x="459" y="750.6172">- IP/subnet added to ban list</text><text font-size="13" lengthAdjust="spacing" textLength="251.8115" x="459" y="765.9277">- Connections from banned IPs rejected</text><text font-size="13" lengthAdjust="spacing" textLength="210.9707" x="459" y="781.2383">- Ban expires after specified time</text></g><path d="m30 801.9805h842.8013" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131.3931" x="35" y="812.6152">[command = "remove"]</text><path d="m707.1865 833.2461 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m448.4941 837.2461h264.6924" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.5142" x="455.4941" y="832.5039">Remove(ctx, ipOrSubnet)</text><path d="m40 852.2461h62.1387v7.3105l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m40 852.2461h749.0928v268.6816h-749.0928z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="55" y="865.8145">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142.8013" x="117.1387" y="864.8809">[Remove Operation Fails]</text><path d="m459.4941 886.8672-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m453.4941 890.8672h264.6924" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="465.4941" y="886.125">Return error</text><path d="m87.7524 934.4883-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m81.7524 938.4883h355.7417" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="93.7524" y="933.7461">Return error</text><path d="m453 903.8672v55h237v-45l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m680 903.8672v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5098" x="459" y="921.4355">Error response:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.437" x="459" y="936.7461">- Code: ErrRPCInvalidParameter</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.1567" x="459" y="952.0566">- Message: "Failed to remove ban"</text><path d="m40 965.7988h749.0928" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="168.2603" x="45" y="976.4336">[Remove Operation Succeeds]</text><path d="m459.4941 997.0645-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m453.4941 1001.0645h264.6924" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.4023" x="465.4941" y="996.3223">Return success</text><path d="m87.7524 1067.6514-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m81.7524 1071.6514h355.7417" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.4771" x="93.7524" y="1066.9092">Return nil</text><path d="m453 1014.0645v101h325v-91l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m768 1014.0645v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.7686" x="459" y="1031.6328">Response fields:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.5278" x="459" y="1046.9434">- Returns nil on success</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="459" y="1062.2539"></text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.1094" x="459" y="1077.5645">Effects:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.3789" x="459" y="1092.875">- IP/subnet removed from ban list</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.5986" x="459" y="1108.1855">- Connections from IP allowed (if no other bans)</text><path d="m30 1128.9277h842.8013" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107.2607" x="35" y="1139.5625">[Invalid Command]</text><path d="m87.7524 1178.5039-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m81.7524 1182.5039h355.7417" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="93.7524" y="1177.7617">Return error</text><path d="m453 1147.8828v55h383v-45l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m826 1147.8828v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5098" x="459" y="1165.4512">Error response:</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.437" x="459" y="1180.7617">- Code: ErrRPCInvalidParameter</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362.0576" x="459" y="1196.0723">- Message: "Invalid command. Must be 'add' or 'remove'."</text><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="1280.9707">Last Modified On: 24-Feb-2025</text></svg>
