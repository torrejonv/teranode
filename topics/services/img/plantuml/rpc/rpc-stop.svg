<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="519px" preserveAspectRatio="none" style="width:1039px;height:519px;background:#F0F8FF;" version="1.1" viewBox="0 0 1039 519" width="1039px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="519" style="stroke:none;stroke-width:1.0;" width="1039" x="0" y="0"/><rect fill="#FFFFFF" height="355.8135" style="stroke:#181818;stroke-width:1.0;" width="10" x="273.2739" y="67.7988"/><rect fill="#FFFFFF" height="209.9502" style="stroke:#181818;stroke-width:1.0;" width="10" x="442.9189" y="213.6621"/><rect fill="#FFFFFF" height="125.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="593.7031" y="242.9727"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="31" x2="31" y1="36.4883" y2="468.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="277.999" x2="277.999" y1="36.4883" y2="468.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="447.5103" x2="447.5103" y1="36.4883" y2="468.0781"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="598.3999" x2="598.3999" y1="36.4883" y2="468.0781"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="53.5049" x="5" y="5"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="12" y="25.5352">Client</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="53.5049" x="5" y="467.0781"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="12" y="487.6133">Client</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="86.5498" x="234.999" y="5"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.5498" x="241.999" y="25.5352">RPC Server</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="86.5498" x="234.999" y="467.0781"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.5498" x="241.999" y="487.6133">RPC Server</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="138.8174" x="378.5103" y="5"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.8174" x="385.5103" y="25.5352">Teranode Daemon</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="138.8174" x="378.5103" y="467.0781"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.8174" x="385.5103" y="487.6133">Teranode Daemon</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="120.6064" x="538.3999" y="5"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.6064" x="545.3999" y="25.5352">Service Registry</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="120.6064" x="538.3999" y="467.0781"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.6064" x="545.3999" y="487.6133">Service Registry</text><rect fill="#FFFFFF" height="355.8135" style="stroke:#181818;stroke-width:1.0;" width="10" x="273.2739" y="67.7988"/><rect fill="#FFFFFF" height="209.9502" style="stroke:#181818;stroke-width:1.0;" width="10" x="442.9189" y="213.6621"/><rect fill="#FFFFFF" height="125.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="593.7031" y="242.9727"/><polygon fill="#666666" points="261.2739,63.7988,271.2739,67.7988,261.2739,71.7988,265.2739,67.7988" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="31.7524" x2="267.2739" y1="67.7988" y2="67.7988"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.7998" x="38.7524" y="63.0566">StopCmd()</text><line style="stroke:#666666;stroke-width:1.0;" x1="283.2739" x2="325.2739" y1="108.9199" y2="108.9199"/><line style="stroke:#666666;stroke-width:1.0;" x1="325.2739" x2="325.2739" y1="108.9199" y2="121.9199"/><line style="stroke:#666666;stroke-width:1.0;" x1="284.2739" x2="325.2739" y1="121.9199" y2="121.9199"/><polygon fill="#666666" points="294.2739,117.9199,284.2739,121.9199,294.2739,125.9199,290.2739,121.9199" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.1045" x="290.2739" y="104.1777">Validate permissions</text><path d="M443.1045,80.7988 L443.1045,135.7988 L734.1045,135.7988 L734.1045,90.7988 L724.1045,80.7988 L443.1045,80.7988 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M724.1045,80.7988 L724.1045,90.7988 L734.1045,90.7988 L724.1045,80.7988 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.3086" x="449.1045" y="98.3672">Validation checks:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.2939" x="449.1045" y="113.6777">- Ensure caller has admin privileges</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.9878" x="449.1045" y="128.9883">- No parameters needed for this command</text><polygon fill="#666666" points="42.7524,169.6963,32.7524,173.6963,42.7524,177.6963,38.7524,173.6963" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="36.7524" x2="272.2739" y1="173.6963" y2="173.6963"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.5215" x="48.7524" y="168.9541">Return "Teranode server stopping"</text><path d="M288,146.7305 L288,186.7305 L564,186.7305 L564,156.7305 L554,146.7305 L288,146.7305 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M554,146.7305 L554,156.7305 L564,156.7305 L554,146.7305 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.3789" x="294" y="164.2988">Send success response before shutdown</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.6396" x="294" y="179.6094">to ensure client gets a response</text><line style="stroke:#666666;stroke-width:1.0;" x1="440.9189" x2="430.9189" y1="213.6621" y2="209.6621"/><line style="stroke:#666666;stroke-width:1.0;" x1="440.9189" x2="430.9189" y1="213.6621" y2="217.6621"/><line style="stroke:#666666;stroke-width:1.0;" x1="283.2739" x2="441.9189" y1="213.6621" y2="213.6621"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.645" x="290.2739" y="208.9199">RequestShutdown(ctx)</text><polygon fill="#666666" points="581.7031,238.9727,591.7031,242.9727,581.7031,246.9727,585.7031,242.9727" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="452.9189" x2="587.7031" y1="242.9727" y2="242.9727"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.3584" x="459.9189" y="238.2305">BeginShutdown()</text><line style="stroke:#666666;stroke-width:1.0;" x1="603.7031" x2="645.7031" y1="299.4043" y2="299.4043"/><line style="stroke:#666666;stroke-width:1.0;" x1="645.7031" x2="645.7031" y1="299.4043" y2="312.4043"/><line style="stroke:#666666;stroke-width:1.0;" x1="604.7031" x2="645.7031" y1="312.4043" y2="312.4043"/><polygon fill="#666666" points="614.7031,308.4043,604.7031,312.4043,614.7031,316.4043,610.7031,312.4043" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.1206" x="610.7031" y="294.6621">Shutdown individual services</text><path d="M814.1206,255.9727 L814.1206,341.9727 L1032.1206,341.9727 L1032.1206,265.9727 L1022.1206,255.9727 L814.1206,255.9727 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1022.1206,255.9727 L1022.1206,265.9727 L1032.1206,265.9727 L1022.1206,255.9727 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.2607" x="820.1206" y="273.541">Orderly shutdown sequence:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.0313" x="820.1206" y="288.8516">1. Stop accepting new requests</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.855" x="820.1206" y="304.1621">2. Complete pending requests</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6924" x="820.1206" y="319.4727">3. Flush data to disk</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.1621" x="820.1206" y="334.7832">4. Release resources</text><polygon fill="#666666" points="463.9189,364.8359,453.9189,368.8359,463.9189,372.8359,459.9189,368.8359" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="457.9189" x2="597.7031" y1="368.8359" y2="368.8359"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.9551" x="469.9189" y="364.0938">Services stopped</text><line style="stroke:#666666;stroke-width:1.0;" x1="452.9189" x2="494.9189" y1="422.6123" y2="422.6123"/><line style="stroke:#666666;stroke-width:1.0;" x1="494.9189" x2="494.9189" y1="422.6123" y2="435.6123"/><line style="stroke:#666666;stroke-width:1.0;" x1="447.9189" x2="494.9189" y1="435.6123" y2="435.6123"/><polygon fill="#666666" points="457.9189,431.6123,447.9189,435.6123,457.9189,439.6123,453.9189,435.6123" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.7842" x="459.9189" y="417.8701">Terminate process</text><path d="M597.7842,381.8359 L597.7842,452.8359 L790.7842,452.8359 L790.7842,391.8359 L780.7842,381.8359 L597.7842,381.8359 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M780.7842,381.8359 L780.7842,391.8359 L790.7842,391.8359 L780.7842,381.8359 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.1152" x="603.7842" y="399.4043">Final cleanup:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.7148" x="603.7842" y="414.7148">- Flush logs</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.7515" x="603.7842" y="430.0254">- Release system resources</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.9463" x="603.7842" y="445.3359">- Exit with status code 0</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4932" x="0" y="509.2344">Last Modified On: 30-Apr-2025</text><!--SRC=[fLF1Rjim3BthAuWCmzf3WcuTXY677fhCfsKTcc9trM9i8RBaINJIODY_Zv8THzvssdm8OlAHV7ny3djjM-bb0y-ot5VUTLQjd74UNXKtnSUY4654ADp9pb3XB0sGs_Ha4EczEmx93-aHuWsiSQSjmhFp2ds07MUbCO066xGKidf-rNI27mBWFg6dlJZwEyjrUiHFaNKfcQ5tvd_Ry2_fKhVIqh-r4Y9liJAQrvk4PezVLx15Vq0_0nc0NwVv9_JIEeMmbjWucq3ztoakzj0bmYDMEf0_9U0G34Bqes5-5oV04hRasbMZhgw5B4aV964QBM9s17sJHgkOQj4tEWJjR13MSS3hgYPUVK1m0ieQotrOSd0EdspeF4B9DqOFDJEHgj4MMgyFsc35Z2BiYuEaCr8qXKLKg98tgDQ1RzWqqYg1La4SEf8RTbdohjHvcsaKaf0GUBbMsses9RkDdK9NiY01F8QMrs5F8a_aqheZvOwMSUJOXVq2_QGAYJSOI_vWT3TS957wtc6WxT3jggINJEBXS6A0yoxd2t7fFL_EZeLPrUMA8tfQUIu2RHKBh3ffaXIfQ2B1G_IlEOtRCepvsXBZtTukaYr0ia8jiNvyaYDldJQA5tktW9LhMeF94ZoB8LdwTW65wK8Dx0WPLLGwx3d-Vi6o69GiDaleEXzfNJIyB3NFX1oZwPYeXCA_278HSYnyYbwroRNUnLDF5IWuP_YmA6tNzcxjIHjNzQuySmsdGDXab9EpNpJ1KLFDl2HrqQNikvjidOpdSEuiahunWpjYcpFQmsSP23PEwPrcxp_O9RoENzpLJAdvPhEPd_YPNVy2]--></g></svg>
