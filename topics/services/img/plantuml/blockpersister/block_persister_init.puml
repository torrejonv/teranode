@startuml block_persister_init
skinparam backgroundColor #F0F8FF
skinparam defaultFontColor #333333
skinparam arrowColor #666666

' Define borders for all elements
skinparam entity {
  BorderColor #666666
  BackgroundColor #DDDDDD
}

skinparam control {
  BorderColor #666666
  BackgroundColor #DDDDDD
}

skinparam participant {
  BorderColor #666666
  BackgroundColor #DDDDDD
}



participant "Block Persister" as BlockPersister
participant "Blockchain Service" as Blockchain
participant "State Management" as State

BlockPersister -> BlockPersister: Load Settings
BlockPersister --> BlockPersister: Configuration Data

BlockPersister -> State: Initialize State Management
State --> BlockPersister: State Instance

BlockPersister -> Blockchain: Initialize Blockchain Client
Blockchain --> BlockPersister: Blockchain Client Instance

BlockPersister -> Blockchain: Wait for FSM Transition from IDLE
Blockchain --> BlockPersister: FSM Running

note right of BlockPersister: Initialize Block Processing Loop

left footer Last Modified On: %date("dd-MMM-yyyy")
@enduml
