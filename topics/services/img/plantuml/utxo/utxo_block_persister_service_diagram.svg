<svg contentStyleType="text/css" height="577" preserveAspectRatio="none" viewBox="0 0 539 577" width="539" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m0 0h539v577h-539z" fill="#f0f8ff"/><g fill="#fff" stroke="#181818"><path d="m91.417 119.1094h10v397.6816h-10z"/><path d="m96.417 185.7305h10v330.0605h-10z"/><path d="m101.417 270.3516h10v238.4395h-10z"/><path d="m447.0806 270.3516h10v246.4395h-10z"/><path d="m452.0806 373.5938h10v135.1973h-10z"/></g><path d="m10 139.1094h512.5938v369.6816h-512.5938z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m20 290.3516h492.5938v211.4395h-492.5938z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m30 403.5488h472.5938v91.2422h-472.5938z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m96 36.4883v489.3027" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m451.5674 36.4883v489.3027" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="112.834" x="40" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.834" x="47" y="25.5352">Block Persister</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="112.834" x="40" y="524.791"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.834" x="47" y="545.3262">Block Persister</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="81.0264" x="411.5674" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.0264" x="418.5674" y="25.5352">UtxoStore</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="81.0264" x="411.5674" y="524.791"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.0264" x="418.5674" y="545.3262">UtxoStore</text><path d="m91.417 119.1094h10v397.6816h-10z" fill="#fff" stroke="#181818"/><path d="m96.417 185.7305h10v330.0605h-10z" fill="#fff" stroke="#181818"/><path d="m101.417 270.3516h10v238.4395h-10z" fill="#fff" stroke="#181818"/><path d="m447.0806 270.3516h10v246.4395h-10z" fill="#fff" stroke="#181818"/><path d="m452.0806 373.5938h10v135.1973h-10z" fill="#fff" stroke="#181818"/><path d="m0 67.1436h532.5938v3h-532.5938z" fill="#eee" stroke="#eee"/><path d="m0 67.1436h532.5938" stroke="#000"/><path d="m0 70.1436h532.5938" stroke="#000"/><path d="m218.1514 56.4883h96.291v23.3105h-96.291z" fill="#eee" stroke="#000" stroke-width="2"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78.0063" x="224.1514" y="73.0566">Fetch UTXO</text><path d="m96.417 106.1094h47" stroke="#666"/><path d="m143.417 106.1094v13" stroke="#666"/><path d="m102.417 119.1094h41" stroke="#666"/><path d="m112.417 115.1094-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.2905" x="108.417" y="101.3672">persistBlock(ctx, blockHash, blockBytes)</text><path d="m10 139.1094h74.4468v7.3105l-10 10h-64.4468z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 139.1094h512.5938v369.6816h-512.5938z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="152.6777">loop</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="171.5742" x="99.4468" y="151.7441">[for each subtree in the block]</text><path d="m101.417 172.7305h47" stroke="#666"/><path d="m148.417 172.7305v13" stroke="#666"/><path d="m107.417 185.7305h41" stroke="#666"/><path d="m117.417 181.7305-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.8765" x="113.417" y="167.9883">processSubtree(ctx, subtreeHash, utxoDiff)</text><path d="m106.417 220.041h42" stroke="#666"/><path d="m148.417 220.041v13" stroke="#666"/><path d="m107.417 233.041h41" stroke="#666"/><path d="m117.417 229.041-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.0439" x="113.417" y="215.2988">Collect the list of txHashes in the Subtree</text><path d="m106.417 257.3516h47" stroke="#666"/><path d="m153.417 257.3516v13" stroke="#666"/><path d="m112.417 270.3516h41" stroke="#666"/><path d="m122.417 266.3516-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311.6636" x="118.417" y="252.6094">processTxMetaUsingStore(ctx, txHashes, txBytes)</text><path d="m20 290.3516h62.1387v7.3105l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m20 290.3516h492.5938v211.4395h-492.5938z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="303.9199">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="97.1387" y="302.9863">[</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114.8394" x="129.7681" y="302.9863">batched processing]</text><path d="m435.0806 324.9727 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m111.417 328.9727h329.6636" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.0352" x="118.417" y="324.2305">MetaBatchDecorate(ctx, txHashes, "tx")</text><path d="m122.417 369.5938-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m116.417 373.5938h334.6636" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.3809" x="128.417" y="353.541">Return UTXO Meta Data for the tx hashes</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="128.417" y="368.8516"></text><path d="m20 382.5938h492.5938" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="25" y="393.2285">[</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="3.6255" x="54.0039" y="393.2285"></text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="3.6255" x="83.0078" y="393.2285"></text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104.1133" x="115.6372" y="393.2285">single processing]</text><path d="m30 403.5488h74.4468v7.3106l-10 10h-64.4468z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m30 403.5488h472.5938v91.2422h-472.5938z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="45" y="417.1172">loop</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="182.585" x="119.4468" y="416.1836">[for each tx hash in the subtree]</text><path d="m440.0806 438.1699 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m111.417 442.1699h334.6636" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.4185" x="118.417" y="437.4277">GetMeta(ctx, txHash)</text><path d="m122.417 482.791-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m116.417 486.791h334.6636" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.5112" x="128.417" y="466.7383">Return UTXO Meta Data for the tx hash</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="128.417" y="482.0488"></text><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="566.9473">Last Modified On: 24-Feb-2025</text></svg>
