@startuml
skinparam backgroundColor #F0F8FF
skinparam defaultFontColor #333333
skinparam arrowColor #666666

' Define borders for all elements
skinparam entity {
  BorderColor #666666
  BackgroundColor #DDDDDD
}

skinparam control {
  BorderColor #666666
  BackgroundColor #DDDDDD
}

skinparam participant {
  BorderColor #666666
  BackgroundColor #DDDDDD
}



participant Caller
participant "Server" as S
participant "Discovery Channel" as DC
participant "Echo HTTP Server" as EHS
participant "CORS Middleware" as CM
participant "HTTP Routes" as HR

Caller -> S : Init()
activate S

S -> DC : Create Discovery Channel
activate DC
DC --> S : Channel Created
deactivate DC

S -> EHS : Initialize Echo Server
activate EHS
EHS --> S : Server Initialized
deactivate EHS

S -> CM : Configure CORS
activate CM
CM --> S : CORS Configured
deactivate CM

S -> HR : Define '/ws' WebSocket Route
activate HR
HR --> S : Route Defined

S -> HR : Define '/nodes' Route
HR --> S : Route Defined
deactivate HR

S --> Caller : Initialization Complete
deactivate S

left footer Last Modified On: %date("dd-MMM-yyyy")

@enduml
