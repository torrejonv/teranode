<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1415px" preserveAspectRatio="none" style="width:1327px;height:1415px;background:#F0F8FF;" version="1.1" viewBox="0 0 1327 1415" width="1327px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="1415" style="stroke:none;stroke-width:1.0;" width="1327" x="0" y="0"/><rect fill="#FFFFFF" height="1067.0664" style="stroke:#181818;stroke-width:1.0;" width="10" x="258.7139" y="158.5977"/><rect fill="#FFFFFF" height="364.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="508.7627" y="262.8398"/><rect fill="#FFFFFF" height="112.8975" style="stroke:#181818;stroke-width:1.0;" width="10" x="767.5015" y="477.6689"/><rect fill="#FFFFFF" height="320.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="919.5361" y="905.248"/><rect fill="#FFFFFF" height="225.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1130.3838" y="1000.4902"/><rect fill="none" height="626.7871" style="stroke:#000000;stroke-width:1.5;" width="833.0205" x="135" y="173.5977"/><rect fill="none" height="278.416" style="stroke:#000000;stroke-width:1.5;" width="760.293" x="197.7275" y="320.1504"/><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="517.293" x="685.875" y="1015.4902"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="83.9766" y2="1316.5957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="262.7275" x2="262.7275" y1="83.9766" y2="1316.5957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="512.7729" x2="512.7729" y1="83.9766" y2="1316.5957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="771.875" x2="771.875" y1="83.9766" y2="1316.5957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="924.2485" x2="924.2485" y1="83.9766" y2="1316.5957"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1134.5996" x2="1134.5996" y1="83.9766" y2="1316.5957"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="72.2422" x="5" y="52.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.2422" x="12" y="73.0234">BSV Peer</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="72.2422" x="5" y="1315.5957"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.2422" x="12" y="1336.1309">BSV Peer</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="111.9727" x="207.7275" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.9727" x="214.7275" y="56.5352">Legacy Service</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.6113" x="216.9082" y="73.0234">Sync Manager</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="111.9727" x="207.7275" y="1315.5957"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.9727" x="214.7275" y="1336.1309">Legacy Service</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.6113" x="216.9082" y="1352.6191">Sync Manager</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.5781" x="483.4736" y="64.5352">io.Pipe()</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.9795" x="447.7729" y="81.0234">Streaming Pipeline</text><ellipse cx="513.7627" cy="35" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><polygon fill="#666666" points="509.7627,23,515.7627,18,513.7627,23,515.7627,28,509.7627,23" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.5781" x="483.4736" y="1329.1309">io.Pipe()</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.9795" x="447.7729" y="1345.6191">Streaming Pipeline</text><ellipse cx="513.7627" cy="1364.5723" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><polygon fill="#666666" points="509.7627,1352.5723,515.7627,1347.5723,513.7627,1352.5723,515.7627,1357.5723,509.7627,1352.5723" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.2529" x="695.875" y="64.5352">Temporary Disk Store</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.3555" x="706.3237" y="81.0234">(4MB Buffered I/O)</text><path d="M754.5015,15 C754.5015,5 772.5015,5 772.5015,5 C772.5015,5 790.5015,5 790.5015,15 L790.5015,41 C790.5015,51 772.5015,51 772.5015,51 C772.5015,51 754.5015,51 754.5015,41 L754.5015,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M754.5015,15 C754.5015,25 772.5015,25 772.5015,25 C772.5015,25 790.5015,25 790.5015,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.2529" x="695.875" y="1329.1309">Temporary Disk Store</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.3555" x="706.3237" y="1345.6191">(4MB Buffered I/O)</text><path d="M754.5015,1358.5723 C754.5015,1348.5723 772.5015,1348.5723 772.5015,1348.5723 C772.5015,1348.5723 790.5015,1348.5723 790.5015,1358.5723 L790.5015,1384.5723 C790.5015,1394.5723 772.5015,1394.5723 772.5015,1394.5723 C772.5015,1394.5723 754.5015,1394.5723 754.5015,1384.5723 L754.5015,1358.5723 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M754.5015,1358.5723 C754.5015,1368.5723 772.5015,1368.5723 772.5015,1368.5723 C772.5015,1368.5723 790.5015,1368.5723 790.5015,1358.5723 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M865.2485,41 L983.8237,41 C988.8237,41 988.8237,62.4883 988.8237,62.4883 C988.8237,62.4883 988.8237,83.9766 983.8237,83.9766 L865.2485,83.9766 C860.2485,83.9766 860.2485,62.4883 860.2485,62.4883 C860.2485,62.4883 860.2485,41 865.2485,41 " fill="#E2E2F0" style="stroke:#666666;stroke-width:0.5;"/><path d="M983.8237,41 C978.8237,41 978.8237,62.4883 978.8237,62.4883 C978.8237,83.9766 983.8237,83.9766 983.8237,83.9766 " fill="none" style="stroke:#666666;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5752" x="865.2485" y="59.5352">Block Validation</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.8525" x="897.6099" y="76.0234">Queue</text><path d="M865.2485,1315.5957 L983.8237,1315.5957 C988.8237,1315.5957 988.8237,1337.084 988.8237,1337.084 C988.8237,1337.084 988.8237,1358.5723 983.8237,1358.5723 L865.2485,1358.5723 C860.2485,1358.5723 860.2485,1337.084 860.2485,1337.084 C860.2485,1337.084 860.2485,1315.5957 865.2485,1315.5957 " fill="#E2E2F0" style="stroke:#666666;stroke-width:0.5;"/><path d="M983.8237,1315.5957 C978.8237,1315.5957 978.8237,1337.084 978.8237,1337.084 C978.8237,1358.5723 983.8237,1358.5723 983.8237,1358.5723 " fill="none" style="stroke:#666666;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5752" x="865.2485" y="1334.1309">Block Validation</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.8525" x="897.6099" y="1350.6191">Queue</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="115.5684" x="1077.5996" y="52.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.5684" x="1084.5996" y="73.0234">Block Validator</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="115.5684" x="1077.5996" y="1315.5957"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.5684" x="1084.5996" y="1336.1309">Block Validator</text><rect fill="#FFFFFF" height="1067.0664" style="stroke:#181818;stroke-width:1.0;" width="10" x="258.7139" y="158.5977"/><rect fill="#FFFFFF" height="364.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="508.7627" y="262.8398"/><rect fill="#FFFFFF" height="112.8975" style="stroke:#181818;stroke-width:1.0;" width="10" x="767.5015" y="477.6689"/><rect fill="#FFFFFF" height="320.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="919.5361" y="905.248"/><rect fill="#FFFFFF" height="225.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="1130.3838" y="1000.4902"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1320.9531" x="0" y="114.6318"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1320.9531" y1="114.6318" y2="114.6318"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1320.9531" y1="117.6318" y2="117.6318"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="260.6128" x="530.1702" y="103.9766"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="242.3281" x="536.1702" y="120.5449">Disk-Based Block Queueing Process</text><polygon fill="#666666" points="246.7139,154.5977,256.7139,158.5977,246.7139,162.5977,250.7139,158.5977" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="41.1211" x2="252.7139" y1="158.5977" y2="158.5977"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.5928" x="48.1211" y="153.8555">OnBlock(peer, msgBlock, bytes)</text><path d="M135,173.5977 L197.1387,173.5977 L197.1387,180.9082 L187.1387,190.9082 L135,190.9082 L135,173.5977 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="626.7871" style="stroke:#000000;stroke-width:1.5;" width="833.0205" x="135" y="173.5977"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="150" y="187.166">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="217.8892" x="212.1387" y="186.2324">[legacy_writeMsgBlocksToDisk = true]</text><path d="M169,195.9082 L169,235.9082 L357,235.9082 L357,205.9082 L347,195.9082 L169,195.9082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M347,195.9082 L347,205.9082 L357,205.9082 L347,195.9082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139.3755" x="175" y="213.4766">Disk Queueing Mode</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.8828" x="175" y="228.7871">Reduces memory footprint</text><polygon fill="#666666" points="496.7627,258.8398,506.7627,262.8398,496.7627,266.8398,500.7627,262.8398" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="268.7139" x2="502.7627" y1="262.8398" y2="262.8398"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.6338" x="275.7139" y="258.0977">Create io.Pipe()</text><line style="stroke:#666666;stroke-width:1.0;" x1="268.7139" x2="310.7139" y1="292.1504" y2="292.1504"/><line style="stroke:#666666;stroke-width:1.0;" x1="310.7139" x2="310.7139" y1="292.1504" y2="305.1504"/><line style="stroke:#666666;stroke-width:1.0;" x1="269.7139" x2="310.7139" y1="305.1504" y2="305.1504"/><polygon fill="#666666" points="279.7139,301.1504,269.7139,305.1504,279.7139,309.1504,275.7139,305.1504" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.3574" x="275.7139" y="287.4082">Create 4MB buffered reader</text><path d="M197.7275,320.1504 L264.8936,320.1504 L264.8936,327.4609 L254.8936,337.4609 L197.7275,337.4609 L197.7275,320.1504 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="278.416" style="stroke:#000000;stroke-width:1.5;" width="760.293" x="197.7275" y="320.1504"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22.166" x="212.7275" y="333.7188">par</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149.1875" x="279.8936" y="332.7852">[Background Serialization]</text><polygon fill="#666666" points="496.7627,373.082,506.7627,377.082,496.7627,381.082,500.7627,377.082" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="268.7139" x2="502.7627" y1="377.082" y2="377.082"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.5986" x="275.7139" y="357.0293">Serialize block to writer</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.2876" x="275.7139" y="372.3398">(async goroutine)</text><path d="M523,342.4609 L523,382.4609 L712,382.4609 L712,352.4609 L702,342.4609 L523,342.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M702,342.4609 L702,352.4609 L712,352.4609 L702,342.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3525" x="529" y="360.0293">Non-blocking serialization</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.835" x="529" y="375.3398">to prevent pipeline stalls</text><line style="stroke:#666666;stroke-width:1.0;" x1="518.7627" x2="560.7627" y1="409.3926" y2="409.3926"/><line style="stroke:#666666;stroke-width:1.0;" x1="560.7627" x2="560.7627" y1="409.3926" y2="422.3926"/><line style="stroke:#666666;stroke-width:1.0;" x1="519.7627" x2="560.7627" y1="422.3926" y2="422.3926"/><polygon fill="#666666" points="529.7627,418.3926,519.7627,422.3926,529.7627,426.3926,525.7627,422.3926" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.7388" x="525.7627" y="404.6504">Stream block data and Disk Storage</text><polygon fill="#666666" points="755.5015,473.6689,765.5015,477.6689,755.5015,481.6689,759.5015,477.6689" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="268.7139" x2="761.5015" y1="477.6689" y2="477.6689"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.3774" x="275.7139" y="472.9268">SetFromReader(blockHash, bufferedReader)</text><path d="M782,435.3926 L782,506.3926 L952,506.3926 L952,445.3926 L942,435.3926 L782,435.3926 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M942,435.3926 L942,445.3926 L952,445.3926 L942,435.3926 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.2427" x="788" y="452.9609">Storage Options:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.3149" x="788" y="468.2715">&#8226; TTL: 10 minutes</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.519" x="788" y="483.582">&#8226; Subdirectory: "blocks"</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.1938" x="788" y="498.8926">&#8226; Allow overwrite: true</text><line style="stroke:#666666;stroke-width:1.0;" x1="777.5015" x2="819.5015" y1="548.2559" y2="548.2559"/><line style="stroke:#666666;stroke-width:1.0;" x1="819.5015" x2="819.5015" y1="548.2559" y2="561.2559"/><line style="stroke:#666666;stroke-width:1.0;" x1="778.5015" x2="819.5015" y1="561.2559" y2="561.2559"/><polygon fill="#666666" points="788.5015,557.2559,778.5015,561.2559,788.5015,565.2559,784.5015,561.2559" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.8379" x="784.5015" y="528.2031">Write block to disk</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.0347" x="784.5015" y="543.5137">(4MB buffered I/O)</text><polygon fill="#666666" points="279.7139,586.5664,269.7139,590.5664,279.7139,594.5664,275.7139,590.5664" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="273.7139" x2="771.5015" y1="590.5664" y2="590.5664"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8779" x="285.7139" y="585.8242">Storage complete</text><polygon fill="#666666" points="501.7627,622.877,511.7627,626.877,501.7627,630.877,505.7627,626.877" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="268.7139" x2="507.7627" y1="626.877" y2="626.877"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.0151" x="275.7139" y="622.1348">Close writer &amp; reader</text><line style="stroke:#666666;stroke-width:1.0;" x1="268.7139" x2="310.7139" y1="671.498" y2="671.498"/><line style="stroke:#666666;stroke-width:1.0;" x1="310.7139" x2="310.7139" y1="671.498" y2="684.498"/><line style="stroke:#666666;stroke-width:1.0;" x1="269.7139" x2="310.7139" y1="684.498" y2="684.498"/><polygon fill="#666666" points="279.7139,680.498,269.7139,684.498,279.7139,688.498,275.7139,684.498" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.7109" x="275.7139" y="651.4453">Set msgBlock = nil</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2153" x="275.7139" y="666.7559">(disk-based mode)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="135" x2="968.0205" y1="693.498" y2="693.498"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="222.0303" x="140" y="704.1328">[legacy_writeMsgBlocksToDisk = false]</text><path d="M145,712.4531 L145,752.4531 L382,752.4531 L382,722.4531 L372,712.4531 L145,712.4531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M372,712.4531 L372,722.4531 L382,722.4531 L372,712.4531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94.4341" x="151" y="730.0215">Memory Mode</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.0298" x="151" y="745.332">Traditional in-memory processing</text><line style="stroke:#666666;stroke-width:1.0;" x1="268.7139" x2="310.7139" y1="779.3848" y2="779.3848"/><line style="stroke:#666666;stroke-width:1.0;" x1="310.7139" x2="310.7139" y1="779.3848" y2="792.3848"/><line style="stroke:#666666;stroke-width:1.0;" x1="269.7139" x2="310.7139" y1="792.3848" y2="792.3848"/><polygon fill="#666666" points="279.7139,788.3848,269.7139,792.3848,279.7139,796.3848,275.7139,792.3848" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.0488" x="275.7139" y="774.6426">msgBlock = msg.block.MsgBlock()</text><polygon fill="#666666" points="907.5361,901.248,917.5361,905.248,907.5361,909.248,911.5361,905.248" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="268.7139" x2="913.5361" y1="905.248" y2="905.248"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.0903" x="275.7139" y="823.9531">Enqueue blockQueueMsg{</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.8691" x="275.7139" y="839.2637">block: msgBlock,</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.8911" x="275.7139" y="854.5742">blockHash: hash,</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.2163" x="275.7139" y="869.8848">blockHeight: height,</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.2002" x="275.7139" y="885.1953">peer: peer</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="275.7139" y="900.5059">}</text><path d="M827,918.248 L827,973.248 L1021,973.248 L1021,928.248 L1011,918.248 L827,918.248 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1011,918.248 L1011,928.248 L1021,928.248 L1011,918.248 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120.0659" x="833" y="935.8164">Queue Processing</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.4355" x="833" y="951.127">Same validation pipeline</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.5767" x="833" y="966.4375">regardless of storage mode</text><polygon fill="#666666" points="1118.3838,996.4902,1128.3838,1000.4902,1118.3838,1004.4902,1122.3838,1000.4902" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="929.5361" x2="1124.3838" y1="1000.4902" y2="1000.4902"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.8477" x="936.5361" y="995.748">Dequeue block for validation</text><path d="M685.875,1015.4902 L748.0137,1015.4902 L748.0137,1022.8008 L738.0137,1032.8008 L685.875,1032.8008 L685.875,1015.4902 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="517.293" x="685.875" y="1015.4902"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="700.875" y="1029.0586">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="124.1099" x="763.0137" y="1028.125">[Block stored on disk]</text><polygon fill="#666666" points="783.5015,1065.4219,773.5015,1069.4219,783.5015,1073.4219,779.5015,1069.4219" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="777.5015" x2="1129.3838" y1="1069.4219" y2="1069.4219"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.4277" x="789.5015" y="1049.3691">Retrieve block data</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.2661" x="789.5015" y="1064.6797">(if needed)</text><polygon fill="#666666" points="1118.3838,1094.7324,1128.3838,1098.7324,1118.3838,1102.7324,1122.3838,1098.7324" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="772.5015" x2="1124.3838" y1="1098.7324" y2="1098.7324"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.9937" x="779.5015" y="1093.9902">Block data</text><line style="stroke:#666666;stroke-width:1.0;" x1="1140.3838" x2="1182.3838" y1="1135.043" y2="1135.043"/><line style="stroke:#666666;stroke-width:1.0;" x1="1182.3838" x2="1182.3838" y1="1135.043" y2="1148.043"/><line style="stroke:#666666;stroke-width:1.0;" x1="1141.3838" x2="1182.3838" y1="1148.043" y2="1148.043"/><polygon fill="#666666" points="1151.3838,1144.043,1141.3838,1148.043,1151.3838,1152.043,1147.3838,1148.043" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.9561" x="1147.3838" y="1130.3008">Validate block</text><line style="stroke:#666666;stroke-width:1.0;" x1="1140.3838" x2="1182.3838" y1="1177.3535" y2="1177.3535"/><line style="stroke:#666666;stroke-width:1.0;" x1="1182.3838" x2="1182.3838" y1="1177.3535" y2="1190.3535"/><line style="stroke:#666666;stroke-width:1.0;" x1="1141.3838" x2="1182.3838" y1="1190.3535" y2="1190.3535"/><polygon fill="#666666" points="1151.3838,1186.3535,1141.3838,1190.3535,1151.3838,1194.3535,1147.3838,1190.3535" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.9526" x="1147.3838" y="1172.6113">Process transactions</text><line style="stroke:#666666;stroke-width:1.0;" x1="1140.3838" x2="1182.3838" y1="1224.6641" y2="1224.6641"/><line style="stroke:#666666;stroke-width:1.0;" x1="1182.3838" x2="1182.3838" y1="1224.6641" y2="1237.6641"/><line style="stroke:#666666;stroke-width:1.0;" x1="1135.3838" x2="1182.3838" y1="1237.6641" y2="1237.6641"/><polygon fill="#666666" points="1145.3838,1233.6641,1135.3838,1237.6641,1145.3838,1241.6641,1141.3838,1237.6641" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.5693" x="1147.3838" y="1219.9219">Update blockchain state</text><path d="M644,1245.6641 L644,1300.6641 L900,1300.6641 L900,1255.6641 L890,1245.6641 L644,1245.6641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M890,1245.6641 L890,1255.6641 L900,1255.6641 L890,1245.6641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="127.0674" x="650" y="1263.2324">Automatic Cleanup</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.4727" x="650" y="1278.543">Blocks auto-deleted after 10 minutes</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.0469" x="650" y="1293.8535">Prevents disk accumulation</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="346.2939" x="0" y="1405.2402">Last Modified On: 23-Jun-2025. &#169; 2025 Bitcoin SV. All rights reserved.</text><!--SRC=[hLRTRYir4BxVfnW50MtKX59-X28LwUIq4KWDBKqeDv6GipkRMjsr5zkRAXmTYMVXZjVWKNWInkFzSQAc0Xts8idQuszcllbc7FiaLIMCA64jqgUDqRNAtkf26_XeTZxxPZPBR6UHOIxgmisqSet95_n49i8O_TniVirFadmALvXBXR3M9aDZ8QTTKHI01PQed8tEqwjqEtYN04pPUX-BLW-ZlE8dUPz4A2b5Q7JneJ3qwMGgAw7SXqBzMcED_mNa-kBwOdRkGU8e1jF50zmXcW482nNzsD- -mOr8Tx10ivKfhjHYfrAO2oKspH5B2_EDILg61bAFxsI59wTax0oAKgeD-9M2AXQyq4kI2IVMmY8CbbXMsWYpWojfds3Xj2579r_Efp2jynmDPl3zPxUdVDQHCLiaWO31jD3f4po8GXAYr6gbVlGRRBpsU_nwa7DyHeSyjkrRabnUSYIZAOMNGJ1c5Cx4w1IjXSjB8fBeWj6tBGSmWLl5vYT-vmnAk-7NCrZl7DhJHAHEReN3ZhL450uAvlYNPoCTpfiZTgcPZKjmXi87UfIcWtfBBdj_mo5RTT7DTOR3uKhTOrPJc51YgOdON6jN6QaS0_57Yq7X-teGrbig5ddewiTcNSHSj9TEzy4q0BvmwxPmj4JYx0zI7I9fUbr98lutBXqRl1nRQuUXfk0qC5s6X2AyEMmq8JgIs6a7muGPkNbqXF23LYC-wscoiTkL8hJAu9P61VlpGWNhQA3O3elZYE9XPJV1U2c3e6mw_L9tl9HC9rxEoCsCBk-PdnC6-axOnxEEkh1p99lXi743jvNFmKvyrV_-_GzOBcycyFavKDlLfBcmkAZNcJIOqfdT10RipGx2tfkYqC-iAsPqqWjkh_vzuxLRVJO7gVtiSVf2PSHAqy_hk9zV0jhJKvjYgikgGDTxpl18MAYoLnLUQ1euGJZmIQpD2F5V29rgr_KsTQYI1UNdqnojUMIKr8KXlGGBylXwW-U2R5xfy7deuRQrbqPaqjTS523LgEdmAemb4lVniAEGwUUO2pHkuw5-z-mbqSb-VDBXQnK6Rhz89z-j5B_ts6VDYjVo11wzejiLzDgbDVwcLJyZ9tpbhDJxVZH6Gplf2TcBPJWCl-wwf3qn2r5YEyQ9dgwLLyeG_oOh_DZMENLsa9MlKf94m9HoTmkGbokCCkQ_63ru7svqR_XP7WZsBaW758HN1LUaHpxebdjqHjBmYOO9gKdce10pp8AEzbiaZdBQdGhrs_CJ6pRNNUFdk5rxmJaZbFLfqdGvRlrJrMEcZq8gFpYfLPEeetgAeiMNonmJCno-gPqkYU-KEXU5gYjVvj0z86XlbA6V2nc8t7TqFFNkmZotN02QOcbTraKeNHn5TmyNc3k-9Wddu4yFZ5xvEx1IS2EiyzqfSqdxjse27tjEJWPPDfhFvwCTFOFJCVpr9roSNtm5K-bIJKGj7iP- -8QPRcaQqQsqnMmyE8pcVyV_1m00]--></g></svg>
