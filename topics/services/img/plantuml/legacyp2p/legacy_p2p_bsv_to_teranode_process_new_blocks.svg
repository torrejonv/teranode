<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1137px" preserveAspectRatio="none" style="width:1773px;height:1137px;background:#F0F8FF;" version="1.1" viewBox="0 0 1773 1137" width="1773px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="1137" style="stroke:none;stroke-width:1.0;" width="1773" x="0" y="0"/><rect fill="#FFFFFF" height="887.0742" style="stroke:#181818;stroke-width:1.0;" width="10" x="224.0674" y="115.2871"/><rect fill="#FFFFFF" height="807.4531" style="stroke:#181818;stroke-width:1.0;" width="10" x="229.0674" y="194.9082"/><rect fill="#FFFFFF" height="377.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="1146.4326" y="624.6348"/><rect fill="#FFFFFF" height="205.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1475.4458" y="769.1875"/><rect fill="none" height="101.9316" style="stroke:#000000;stroke-width:1.5;" width="415.5815" x="160.8149" y="314.8398"/><rect fill="none" height="119.2422" style="stroke:#000000;stroke-width:1.5;" width="1395.1909" x="160.8149" y="848.8086"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="83.9766" y2="1027.3613"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="228.8149" x2="228.8149" y1="83.9766" y2="1027.3613"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="599.3291" x2="599.3291" y1="83.9766" y2="1027.3613"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="699.8555" x2="699.8555" y1="83.9766" y2="1027.3613"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="818.7939" x2="818.7939" y1="83.9766" y2="1027.3613"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="986.4258" x2="986.4258" y1="83.9766" y2="1027.3613"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1150.6484" x2="1150.6484" y1="83.9766" y2="1027.3613"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1337.1802" x2="1337.1802" y1="83.9766" y2="1027.3613"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1479.8857" x2="1479.8857" y1="83.9766" y2="1027.3613"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="69.9043" x="5" y="52.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.9043" x="12" y="73.0234">MainNet</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="69.9043" x="5" y="1026.3613"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.9043" x="12" y="1046.8965">MainNet</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="116.5049" x="170.8149" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.9697" x="191.5825" y="56.5352">P2P Legacy</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5049" x="177.8149" y="73.0234">Overlay Service</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="116.5049" x="170.8149" y="1026.3613"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.9697" x="191.5825" y="1046.8965">P2P Legacy</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5049" x="177.8149" y="1063.3848">Overlay Service</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="558.3291" y="81.0234">UTXO Store</text><path d="M582.0923,31.4883 C582.0923,21.4883 600.0923,21.4883 600.0923,21.4883 C600.0923,21.4883 618.0923,21.4883 618.0923,31.4883 L618.0923,57.4883 C618.0923,67.4883 600.0923,67.4883 600.0923,67.4883 C600.0923,67.4883 582.0923,67.4883 582.0923,57.4883 L582.0923,31.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M582.0923,31.4883 C582.0923,41.4883 600.0923,41.4883 600.0923,41.4883 C600.0923,41.4883 618.0923,41.4883 618.0923,31.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="558.3291" y="1039.8965">UTXO Store</text><path d="M582.0923,1052.8496 C582.0923,1042.8496 600.0923,1042.8496 600.0923,1042.8496 C600.0923,1042.8496 618.0923,1042.8496 618.0923,1052.8496 L618.0923,1078.8496 C618.0923,1088.8496 600.0923,1088.8496 600.0923,1088.8496 C600.0923,1088.8496 582.0923,1088.8496 582.0923,1078.8496 L582.0923,1052.8496 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M582.0923,1052.8496 C582.0923,1062.8496 600.0923,1062.8496 600.0923,1062.8496 C600.0923,1062.8496 618.0923,1062.8496 618.0923,1052.8496 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="651.8555" y="81.0234">Subtree Store</text><path d="M682.3247,31.4883 C682.3247,21.4883 700.3247,21.4883 700.3247,21.4883 C700.3247,21.4883 718.3247,21.4883 718.3247,31.4883 L718.3247,57.4883 C718.3247,67.4883 700.3247,67.4883 700.3247,67.4883 C700.3247,67.4883 682.3247,67.4883 682.3247,57.4883 L682.3247,31.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M682.3247,31.4883 C682.3247,41.4883 700.3247,41.4883 700.3247,41.4883 C700.3247,41.4883 718.3247,41.4883 718.3247,31.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="651.8555" y="1039.8965">Subtree Store</text><path d="M682.3247,1052.8496 C682.3247,1042.8496 700.3247,1042.8496 700.3247,1042.8496 C700.3247,1042.8496 718.3247,1042.8496 718.3247,1052.8496 L718.3247,1078.8496 C718.3247,1088.8496 700.3247,1088.8496 700.3247,1088.8496 C700.3247,1088.8496 682.3247,1088.8496 682.3247,1078.8496 L682.3247,1052.8496 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M682.3247,1052.8496 C682.3247,1062.8496 700.3247,1062.8496 700.3247,1062.8496 C700.3247,1062.8496 718.3247,1062.8496 718.3247,1052.8496 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9707" x="759.6245" y="64.5352">Temporary Store</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.6318" x="758.7939" y="81.0234">(ConcurrentBlob)</text><path d="M801.1099,15 C801.1099,5 819.1099,5 819.1099,5 C819.1099,5 837.1099,5 837.1099,15 L837.1099,41 C837.1099,51 819.1099,51 819.1099,51 C819.1099,51 801.1099,51 801.1099,41 L801.1099,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M801.1099,15 C801.1099,25 819.1099,25 819.1099,25 C819.1099,25 837.1099,25 837.1099,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9707" x="759.6245" y="1039.8965">Temporary Store</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.6318" x="758.7939" y="1056.3848">(ConcurrentBlob)</text><path d="M801.1099,1069.3379 C801.1099,1059.3379 819.1099,1059.3379 819.1099,1059.3379 C819.1099,1059.3379 837.1099,1059.3379 837.1099,1069.3379 L837.1099,1095.3379 C837.1099,1105.3379 819.1099,1105.3379 819.1099,1105.3379 C819.1099,1105.3379 801.1099,1105.3379 801.1099,1095.3379 L801.1099,1069.3379 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M801.1099,1069.3379 C801.1099,1079.3379 819.1099,1079.3379 819.1099,1079.3379 C819.1099,1079.3379 837.1099,1079.3379 837.1099,1069.3379 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="194.2227" x="889.4258" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="967.5708" y="56.5352">Kafka</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.2227" x="896.4258" y="73.0234">[kafka_blocksConfig topic]</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="194.2227" x="889.4258" y="1026.3613"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="967.5708" y="1046.8965">Kafka</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.2227" x="896.4258" y="1063.3848">[kafka_blocksConfig topic]</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="115.5684" x="1093.6484" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.5684" x="1100.6484" y="56.5352">Block Validator</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1172" x="1114.874" y="73.0234">(Teranode)</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="115.5684" x="1093.6484" y="1026.3613"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.5684" x="1100.6484" y="1046.8965">Block Validator</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1172" x="1114.874" y="1063.3848">(Teranode)</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="119.7383" x="1278.1802" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="1319.083" y="56.5352">Kafka</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.7383" x="1285.1802" y="73.0234">[subtrees topic]</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="119.7383" x="1278.1802" y="1026.3613"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="1319.083" y="1046.8965">Kafka</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.7383" x="1285.1802" y="1063.3848">[subtrees topic]</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="131.1201" x="1414.8857" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.1201" x="1421.8857" y="56.5352">Subtree Validator</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1172" x="1443.8872" y="73.0234">(Teranode)</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="131.1201" x="1414.8857" y="1026.3613"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.1201" x="1421.8857" y="1046.8965">Subtree Validator</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1172" x="1443.8872" y="1063.3848">(Teranode)</text><rect fill="#FFFFFF" height="887.0742" style="stroke:#181818;stroke-width:1.0;" width="10" x="224.0674" y="115.2871"/><rect fill="#FFFFFF" height="807.4531" style="stroke:#181818;stroke-width:1.0;" width="10" x="229.0674" y="194.9082"/><rect fill="#FFFFFF" height="377.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="1146.4326" y="624.6348"/><rect fill="#FFFFFF" height="205.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1475.4458" y="769.1875"/><polygon fill="#666666" points="212.0674,111.2871,222.0674,115.2871,212.0674,119.2871,216.0674,115.2871" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="39.9521" x2="218.0674" y1="115.2871" y2="115.2871"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.1152" x="46.9521" y="110.5449">OnBlock(peer, msg, bytes)</text><line style="stroke:#666666;stroke-width:1.0;" x1="234.0674" x2="276.0674" y1="144.5977" y2="144.5977"/><line style="stroke:#666666;stroke-width:1.0;" x1="276.0674" x2="276.0674" y1="144.5977" y2="157.5977"/><line style="stroke:#666666;stroke-width:1.0;" x1="235.0674" x2="276.0674" y1="157.5977" y2="157.5977"/><polygon fill="#666666" points="245.0674,153.5977,235.0674,157.5977,245.0674,161.5977,241.0674,157.5977" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.397" x="241.0674" y="139.8555">build block from bytes</text><line style="stroke:#666666;stroke-width:1.0;" x1="234.0674" x2="281.0674" y1="181.9082" y2="181.9082"/><line style="stroke:#666666;stroke-width:1.0;" x1="281.0674" x2="281.0674" y1="181.9082" y2="194.9082"/><line style="stroke:#666666;stroke-width:1.0;" x1="240.0674" x2="281.0674" y1="194.9082" y2="194.9082"/><polygon fill="#666666" points="250.0674,190.9082,240.0674,194.9082,250.0674,198.9082,246.0674,194.9082" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.0977" x="246.0674" y="177.166">HandleBlock(block)</text><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="281.0674" y1="229.2188" y2="229.2188"/><line style="stroke:#666666;stroke-width:1.0;" x1="281.0674" x2="281.0674" y1="229.2188" y2="242.2188"/><line style="stroke:#666666;stroke-width:1.0;" x1="240.0674" x2="281.0674" y1="242.2188" y2="242.2188"/><polygon fill="#666666" points="250.0674,238.2188,240.0674,242.2188,250.0674,246.2188,246.0674,242.2188" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.6792" x="246.0674" y="224.4766">create a new (empty) subtree</text><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="281.0674" y1="286.8398" y2="286.8398"/><line style="stroke:#666666;stroke-width:1.0;" x1="281.0674" x2="281.0674" y1="286.8398" y2="299.8398"/><line style="stroke:#666666;stroke-width:1.0;" x1="240.0674" x2="281.0674" y1="299.8398" y2="299.8398"/><polygon fill="#666666" points="250.0674,295.8398,240.0674,299.8398,250.0674,303.8398,246.0674,299.8398" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.2871" x="246.0674" y="266.7871">add a placeholder coinbase tx</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.791" x="250.1807" y="282.0977">to the subtree</text><path d="M160.8149,314.8398 L235.2617,314.8398 L235.2617,322.1504 L225.2617,332.1504 L160.8149,332.1504 L160.8149,314.8398 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="101.9316" style="stroke:#000000;stroke-width:1.5;" width="415.5815" x="160.8149" y="314.8398"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="175.8149" y="328.4082">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="48.7266" x="250.2617" y="327.4746">[each tx]</text><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="281.0674" y1="353.4609" y2="353.4609"/><line style="stroke:#666666;stroke-width:1.0;" x1="281.0674" x2="281.0674" y1="353.4609" y2="366.4609"/><line style="stroke:#666666;stroke-width:1.0;" x1="240.0674" x2="281.0674" y1="366.4609" y2="366.4609"/><polygon fill="#666666" points="250.0674,362.4609,240.0674,366.4609,250.0674,370.4609,246.0674,366.4609" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.6689" x="246.0674" y="348.7188">add Tx Hash to the Subtree</text><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="281.0674" y1="395.7715" y2="395.7715"/><line style="stroke:#666666;stroke-width:1.0;" x1="281.0674" x2="281.0674" y1="395.7715" y2="408.7715"/><line style="stroke:#666666;stroke-width:1.0;" x1="240.0674" x2="281.0674" y1="408.7715" y2="408.7715"/><polygon fill="#666666" points="250.0674,404.7715,240.0674,408.7715,250.0674,412.7715,246.0674,408.7715" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.3291" x="246.0674" y="391.0293">Validate tx (local checks and via validator client)</text><polygon fill="#666666" points="688.3247,441.082,698.3247,445.082,688.3247,449.082,692.3247,445.082" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="694.3247" y1="445.082" y2="445.082"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.959" x="246.0674" y="440.3398">Store Subtree data</text><polygon fill="#666666" points="250.0674,455.082,240.0674,459.082,250.0674,463.082,246.0674,459.082" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="244.0674" x2="699.3247" y1="459.082" y2="459.082"/><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="281.0674" y1="488.3926" y2="488.3926"/><line style="stroke:#666666;stroke-width:1.0;" x1="281.0674" x2="281.0674" y1="488.3926" y2="501.3926"/><line style="stroke:#666666;stroke-width:1.0;" x1="240.0674" x2="281.0674" y1="501.3926" y2="501.3926"/><polygon fill="#666666" points="250.0674,497.3926,240.0674,501.3926,250.0674,505.3926,246.0674,501.3926" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.0249" x="246.0674" y="483.6504">Build a Teranode block (block, coinbaseTx, subtree)</text><polygon fill="#666666" points="807.1099,526.7031,817.1099,530.7031,807.1099,534.7031,811.1099,530.7031" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="813.1099" y1="530.7031" y2="530.7031"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.1353" x="246.0674" y="525.9609">Store block in ConcurrentBlob with TTL (90 min)</text><polygon fill="#666666" points="250.0674,540.7031,240.0674,544.7031,250.0674,548.7031,246.0674,544.7031" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="244.0674" x2="818.1099" y1="544.7031" y2="544.7031"/><polygon fill="#666666" points="974.5371,580.6689,984.5371,584.6689,974.5371,588.6689,978.5371,584.6689" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="980.5371" y1="584.6689" y2="584.6689"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.1455" x="246.0674" y="579.9268">Publish(hash, base_url)</text><path d="M991,557.7031 L991,597.7031 L1220,597.7031 L1220,567.7031 L1210,557.7031 L991,557.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1210,557.7031 L1210,567.7031 L1220,567.7031 L1210,557.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.8994" x="997" y="575.2715">Send block notification message</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2915" x="997" y="590.582">with hash and base_url</text><polygon fill="#666666" points="1134.4326,620.6348,1144.4326,624.6348,1134.4326,628.6348,1138.4326,624.6348" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="986.5371" x2="1140.4326" y1="624.6348" y2="624.6348"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3965" x="993.5371" y="619.8926">Consume message</text><polygon fill="#666666" points="250.0674,652.9453,240.0674,656.9453,250.0674,660.9453,246.0674,656.9453" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="244.0674" x2="1145.4326" y1="656.9453" y2="656.9453"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.6196" x="256.0674" y="652.2031">HTTP GET request for block data</text><path d="M1161,637.6348 L1161,662.6348 L1441,662.6348 L1441,647.6348 L1431,637.6348 L1161,637.6348 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1431,637.6348 L1431,647.6348 L1441,647.6348 L1431,637.6348 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259.4414" x="1167" y="655.2031">Retrieves block from the temporary store</text><polygon fill="#666666" points="1134.4326,685.2559,1144.4326,689.2559,1134.4326,693.2559,1138.4326,689.2559" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="239.0674" x2="1140.4326" y1="689.2559" y2="689.2559"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.5605" x="246.0674" y="684.5137">block data (response)</text><polygon fill="#666666" points="1326.0493,725.2217,1336.0493,729.2217,1326.0493,733.2217,1330.0493,729.2217" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="1156.4326" x2="1332.0493" y1="729.2217" y2="729.2217"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.585" x="1163.4326" y="724.4795">Publish(hash, baseUrl)</text><path d="M1343,702.2559 L1343,742.2559 L1585,742.2559 L1585,712.2559 L1575,702.2559 L1343,702.2559 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1575,702.2559 L1575,712.2559 L1585,712.2559 L1575,702.2559 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.2612" x="1349" y="719.8242">Send subtree notification message</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2915" x="1349" y="735.1348">with hash and base_url</text><polygon fill="#666666" points="1463.4458,765.1875,1473.4458,769.1875,1463.4458,773.1875,1467.4458,769.1875" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="1338.0493" x2="1469.4458" y1="769.1875" y2="769.1875"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3965" x="1345.0493" y="764.4453">Consume message</text><polygon fill="#666666" points="250.0674,797.498,240.0674,801.498,250.0674,805.498,246.0674,801.498" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="244.0674" x2="1474.4458" y1="801.498" y2="801.498"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.9814" x="256.0674" y="796.7559">HTTP GET request for subtree data</text><path d="M1490,782.1875 L1490,807.1875 L1766,807.1875 L1766,792.1875 L1756,782.1875 L1490,782.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1756,782.1875 L1756,792.1875 L1766,792.1875 L1756,782.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.3281" x="1496" y="799.7559">Retrieves subtree from the subtree store</text><polygon fill="#666666" points="1463.4458,829.8086,1473.4458,833.8086,1463.4458,837.8086,1467.4458,833.8086" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="239.0674" x2="1469.4458" y1="833.8086" y2="833.8086"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.9224" x="246.0674" y="829.0664">subtree data (response)</text><path d="M160.8149,848.8086 L235.2617,848.8086 L235.2617,856.1191 L225.2617,866.1191 L160.8149,866.1191 L160.8149,848.8086 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="119.2422" style="stroke:#000000;stroke-width:1.5;" width="1395.1909" x="160.8149" y="848.8086"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="175.8149" y="862.377">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59.5923" x="250.2617" y="861.4434">[each txid]</text><polygon fill="#666666" points="250.0674,883.4297,240.0674,887.4297,250.0674,891.4297,246.0674,887.4297" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="244.0674" x2="1474.4458" y1="887.4297" y2="887.4297"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242.0044" x="256.0674" y="882.6875">HTTP GET request for transaction data</text><polygon fill="#666666" points="807.1099,912.7402,817.1099,916.7402,807.1099,920.7402,811.1099,916.7402" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="239.0674" x2="813.1099" y1="916.7402" y2="916.7402"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.293" x="246.0674" y="911.998">Retrieve tx if available</text><polygon fill="#666666" points="250.0674,926.7402,240.0674,930.7402,250.0674,934.7402,246.0674,930.7402" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="244.0674" x2="818.1099" y1="930.7402" y2="930.7402"/><polygon fill="#666666" points="1463.4458,956.0508,1473.4458,960.0508,1463.4458,964.0508,1467.4458,960.0508" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="239.0674" x2="1469.4458" y1="960.0508" y2="960.0508"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.2134" x="246.0674" y="955.3086">tx data (response)</text><line style="stroke:#666666;stroke-width:1.0;" x1="1156.4326" x2="1198.4326" y1="1001.3613" y2="1001.3613"/><line style="stroke:#666666;stroke-width:1.0;" x1="1198.4326" x2="1198.4326" y1="1001.3613" y2="1014.3613"/><line style="stroke:#666666;stroke-width:1.0;" x1="1151.4326" x2="1198.4326" y1="1014.3613" y2="1014.3613"/><polygon fill="#666666" points="1161.4326,1010.3613,1151.4326,1014.3613,1161.4326,1018.3613,1157.4326,1014.3613" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.6167" x="1163.4326" y="996.6191">Add block to blockchain</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="146.5625" x="100.7471" y="1116.0059">P2P Legacy - Block Processing</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="348.0566" x="3.1641" y="1127.7832">Last Modified On: 24-Apr-2025. &#169; 2025 Bitcoin SV. All rights reserved.</text><!--SRC=[fLRlRjis4F_EfpYu66O3SH1asB3vGu6wdJTWyM8qQb6W7WfAEbc4QT8ZAIV6i0VgQ-p9Tg94cRBLhUlu8R5u_t_tkvFiLgWzDtm7AS-s6wChbR_KKXjujhXPVBzOCDjfv5ZmIhg5LgvL-SQVI8KRenzRuNV-CFOrlC92A8HKcnoDXOAaN4f0YJjKpaRsz2ZS4VvW07EltVT5j-TPllA7_SaYBnbbQBJylsxehnEPs7FblimLdTZ7aWlrAphW5dRqKw7hYKUhsnNSuOPdnxMwFw2H_0WFQ0uYmr5j9BsCvTpnb5k4qPlatJqyE6qQUUMUj7-AL1wgr1d4ICisD-UA2Uxssd1pR5JNQlnIgwmoXbeobpgTU6D7MerbB_DVUB7bQ_L-M___a4gTRIsP5s83Jkz5zfitzj9vBUnR-ojuowMWTBIXq0aQhdIEJL3lhnCFHswhiXVnMW3wLW6LJyTi_PsYihPbC7tUDW9cSAzyxkCzehc2dTrSGNfqQ2UCPquSkCFGDDRQTDOpI2iXywOuA8pUDQP3cZzpbKjiGddzp_AV6QmLE2XyX34rpXqdeQu1TPxdfBkNFCDIIo8wZP5GdXpkQQq8M70bTWwOr7eFoBEIn3G60CCkaoTAtvR1FBHZsA25kuu8OogKIyXA93818G07mU4G6WAP54JD2KELnzN7z9urN0v1eMOxYnLWsWKVGd3kEyGXKADjLjE3gmwVvEagX9t4RhfX2Naqva91VxJWKRWIakGEnZ_Sm4we2UjCFv7XQPHciAfIAMmvBWbcuXybzA4oSiAK9Y2Ds9IEuXDARNYw5eN8k1DQmGwjvHk4jV8vr2uyrC4BOwT8TTp-ACxgGcorm-3dHCkpcMNzvnwvasG5F_sOWC7VAxJElnwQL7s_uZ9UepC23sZZiQbfvRhjPVrswg0QoFda6yO6xPvAgFjscM6yFuPWVZE8Sik4By8v4FN4uy_1-d9NdT_yAzusdf1Xn8DAXtcuk4JyClVOVm_rtXeHkTyB_pbxH-DfQpW8QLz1Vxj4SnZAgHUCA80Vk90ybSq-6XowsDLWQUJfl2g_adByXmPTaksSfI_oCB2qEVsFhAGtKC_l-P15eh0o1gua5ZLir6GJVtF059enNncT4SM4sX1TuOuJo4kT4vSnfnVU3BwgD_HubEVJvN8vFT8PJQxXhuzmUtFxBSo5g_SYFBozXXVqaUTvPAbTbhvaCByUiRy1]--></g></svg>
