<svg contentStyleType="text/css" height="372" preserveAspectRatio="none" viewBox="0 0 898 372" width="898" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m0 0h898v372h-898z" fill="#f0f8ff"/><g stroke="#181818"><path d="m384.96 128.1094h10v144.2422h-10z" fill="#fff"/><path d="m747.9863 258.3516h10v14h-10z" fill="#fff"/><path d="m843.9985 157.4199h10v29.3105h-10z" fill="#fff"/><path d="m24 67.4883v222.8633" stroke-dasharray="5 5" stroke-width=".5"/><path d="m184.9067 67.4883v222.8633" stroke-dasharray="5 5" stroke-width=".5"/><path d="m389.7603 67.4883v222.8633" stroke-dasharray="5 5" stroke-width=".5"/><path d="m752.4434 67.4883v222.8633" stroke-dasharray="5 5" stroke-width=".5"/><path d="m848.5293 67.4883v222.8633" stroke-dasharray="5 5" stroke-width=".5"/></g><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="38.3291" x="5" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24.3291" x="12" y="56.5352">P2P</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="38.3291" x="5" y="289.3516"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24.3291" x="12" y="309.8867">P2P</text><path d="m161.9067 41h46.9756c5 0 5 13.2441 5 13.2441s0 13.2442-5 13.2442h-46.9756c-5 0-5-13.2442-5-13.2442s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m208.8823 41c-5 0-5 13.2441-5 13.2441 0 13.2442 5 13.2442 5 13.2442" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.9756" x="161.9067" y="59.5352">kafka</text><path d="m161.9067 289.3516h46.9756c5 0 5 13.2441 5 13.2441s0 13.2441-5 13.2441h-46.9756c-5 0-5-13.2441-5-13.2441s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m208.8823 289.3516c-5 0-5 13.2441-5 13.2441 0 13.2441 5 13.2441 5 13.2441" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.9756" x="161.9067" y="307.8867">kafka</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="184.3994" x="297.7603" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.3994" x="304.7603" y="56.5352">Subtree Validation Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="184.3994" x="297.7603" y="289.3516"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.3994" x="304.7603" y="309.8867">Subtree Validation Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="75.0859" x="715.4434" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="722.4434" y="56.5352">Validator</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="75.0859" x="715.4434" y="289.3516"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="722.4434" y="309.8867">Validator</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="800.5293" y="64.5352">Subtree Store</text><path d="m830.9985 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m830.9985 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="800.5293" y="302.8867">Subtree Store</text><path d="m830.9985 315.8398c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m830.9985 315.8398c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><path d="m384.96 128.1094h10v144.2422h-10z" fill="#fff" stroke="#181818"/><path d="m747.9863 258.3516h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m843.9985 157.4199h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m173.3945 94.7988 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m24.1646 98.7988h155.2299" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.23" x="31.1646" y="94.0566">New Subtree Message</text><path d="m372.96 124.1094 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m185.3945 128.1094h193.5655" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.5654" x="192.3945" y="123.3672">subtreeHandler(ctx, request)</text><path d="m831.9985 153.4199 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m394.96 157.4199h443.0385" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.0679" x="401.96" y="152.6777">subtreeStore.Exists(spanCtx, subtreeHash[:])</text><path d="m405.96 182.7305-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m399.96 186.7305h448.0385" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.3618" x="411.96" y="181.9883">subtreeExists / err</text><path d="m394.96 216.041h42" stroke="#666"/><path d="m436.96 216.041v13" stroke="#666"/><path d="m395.96 229.041h41" stroke="#666"/><path d="m405.96 225.041-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.0386" x="401.96" y="211.2988">Obtain a lock on the Subtree</text><path d="m735.9863 254.3516 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m394.96 258.3516h347.0263" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="334.0264" x="401.96" y="253.6094">ValidateSubtreeInternal(ctx, validateSubtreeMessage)</text><path d="m400.96 268.3516-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m394.96 272.3516h357.0263" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="362.5078">Last Modified On: 24-Feb-2025</text></svg>
