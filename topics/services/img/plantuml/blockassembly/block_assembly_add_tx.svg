<svg contentStyleType="text/css" height="543" preserveAspectRatio="none" viewBox="0 0 868 543" width="868" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m0 0h868v543h-868z" fill="#f0f8ff"/><path d="m237.6367 142.7305h624.042v281.75h-624.042z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m438.1387 238.6621h413.54v75.9316h-413.54z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke-width=".5"><path d="m53 36.4883v455.6133" stroke="#181818" stroke-dasharray="5 5"/><path d="m328.6367 36.4883v455.6133" stroke="#181818" stroke-dasharray="5 5"/><path d="m530.1387 36.4883v455.6133" stroke="#181818" stroke-dasharray="5 5"/><path d="m690.8691 36.4883v455.6133" stroke="#181818" stroke-dasharray="5 5"/><path d="m808.8262 36.4883v455.6133" stroke="#181818" stroke-dasharray="5 5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" width="97.1318" x="5" y="5"/></g><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.1318" x="12" y="25.5352">TX Validator</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="97.1318" x="5" y="491.1016"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.1318" x="12" y="511.6367">TX Validator</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="163.3926" x="247.6367" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3926" x="254.6367" y="25.5352">Block Assembly Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="163.3926" x="247.6367" y="491.1016"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3926" x="254.6367" y="511.6367">Block Assembly Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="165.7305" x="448.1387" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7305" x="455.1387" y="25.5352">Block Assembly Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="165.7305" x="448.1387" y="491.1016"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7305" x="455.1387" y="511.6367">Block Assembly Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="135.6729" x="623.8691" y="5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="630.8691" y="25.5352">Subtree Processor</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="135.6729" x="623.8691" y="491.1016"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="630.8691" y="511.6367">Subtree Processor</text><path d="m782.8262 10h53.8525c5 0 5 13.2441 5 13.2441s0 13.2442-5 13.2442h-53.8525c-5 0-5-13.2442-5-13.2442s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m836.6787 10c-5 0-5 13.2441-5 13.2441 0 13.2442 5 13.2442 5 13.2442" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.8525" x="782.8262" y="28.5352">Queue</text><path d="m782.8262 491.1016h53.8525c5 0 5 13.2441 5 13.2441s0 13.2441-5 13.2441h-53.8525c-5 0-5-13.2441-5-13.2441s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m836.6787 491.1016c-5 0-5 13.2441-5 13.2441 0 13.2441 5 13.2441 5 13.2441" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.8525" x="782.8262" y="509.6367">Queue</text><path d="m317.333 63.7988 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m53.5659 67.7988h269.7671" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2388" x="60.5659" y="63.0566">NewClient(ctx, logger)</text><path d="m317.333 123.7305 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m53.5659 127.7305h269.7671" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.8955" x="60.5659" y="92.3672">Store(ctx, bData.TxIDChainHash,</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.7671" x="60.5659" y="107.6777">bData.Fee, bData.Size, bData.LockTime,</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6055" x="64.6792" y="122.9883">bData.UtxoHashes)</text><path d="m237.6367 142.7305h62.1387v7.3105l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m237.6367 142.7305h624.042v281.75h-624.042z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="252.6367" y="156.2988">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144.5576" x="314.7754" y="155.3652">[if "batch mode" enabled]</text><path d="m329.333 181.3516h42" stroke="#666"/><path d="m371.333 181.3516v13" stroke="#666"/><path d="m330.333 194.3516h41" stroke="#666"/><path d="m340.333 190.3516-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.3579" x="336.333" y="176.6094">Add to batch</text><path d="m429.3579 168.541v25h232v-15l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m651.3579 168.541v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.5483" x="435.3579" y="186.1094">Check batch size limit and timing</text><path d="m519.0039 219.6621 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m329.333 223.6621h195.6709" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.6709" x="336.333" y="218.9199">AddTxBatch(ctx, nodeBatch)</text><path d="m438.1387 238.6621h74.4467v7.3106l-10 10h-64.4467z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m438.1387 238.6621h413.54v75.9316h-413.54z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="453.1387" y="252.2305">loop</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162.9321" x="527.5854" y="251.2969">[for each node in nodeBatch]</text><path d="m679.7056 273.2832 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m531.0039 277.2832h154.7017" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5396" x="538.0039" y="272.541">AddTx(subtreeNode)</text><path d="m797.7524 302.5938 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m691.7056 306.5938h112.0468" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.0469" x="698.7056" y="301.8516">enqueue(node)</text><path d="m237.6367 322.5938h624.042" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147.9736" x="242.6367" y="333.2285">[if "batch mode" disabled]</text><path d="m519.0039 353.8594 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m329.333 357.8594h195.6709" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5396" x="336.333" y="353.1172">AddTx(subtreeNode)</text><path d="m679.7056 383.1699 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m531.0039 387.1699h154.7017" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5396" x="538.0039" y="382.4277">AddTx(subtreeNode)</text><path d="m797.7524 412.4805 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m691.7056 416.4805h112.0468" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.0469" x="698.7056" y="411.7383">enqueue(node)</text><path d="m572 436.4805v40h238v-30l-10-10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><path d="m800 436.4805v10h10z" fill="#feffdd" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.3882" x="578" y="454.0488">Dequeue and process transactions</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.2813" x="578" y="469.3594">in separate goroutine</text><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="533.2578">Last Modified On: 24-Feb-2025</text></svg>
