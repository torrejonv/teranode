<svg contentStyleType="text/css" height="716" preserveAspectRatio="none" viewBox="0 0 811 716" width="811" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m0 0h811v716h-811z" fill="#f0f8ff"/><path d="m183.2144 112.7988h10v488.9922h-10z" fill="#fff" stroke="#181818"/><path d="m589.8408 184.4199h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m732.834 285.3516h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m115.3784 329.6621h479.4624v116.8867h-479.4624z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke="#181818"><path d="m27 81.4883v538.3027" stroke-dasharray="5 5" stroke-width=".5"/><path d="m187.3784 81.4883v538.3027" stroke-dasharray="5 5" stroke-width=".5"/><path d="m594.6841 81.4883v538.3027" stroke-dasharray="5 5" stroke-width=".5"/><path d="m736.9976 81.4883v538.3027" stroke-dasharray="5 5" stroke-width=".5"/></g><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="78.5352">Client</text><ellipse cx="27.7524" cy="13.5" fill="#e2e2f0" rx="8" ry="8" stroke="#181818" stroke-width=".5"/><path d="m27.7524 21.5v27m-13-19h26m-13 19-13 15m13-15 13 15" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="632.3262">Client</text><ellipse cx="27.7524" cy="643.7793" fill="#e2e2f0" rx="8" ry="8" stroke="#181818" stroke-width=".5"/><path d="m27.7524 651.7793v27m-13-19h26m-13 19-13 15m13-15 13 15" fill="none" stroke="#181818" stroke-width=".5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="125.6719" x="125.3784" y="50"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.6719" x="132.3784" y="70.5352">Block Assembler</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="125.6719" x="125.3784" y="618.791"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.6719" x="132.3784" y="639.3262">Block Assembler</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="130.3135" x="529.6841" y="50"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="536.6841" y="70.5352">Blockchain Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="130.3135" x="529.6841" y="618.791"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="536.6841" y="639.3262">Blockchain Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="135.6729" x="669.9976" y="50"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="676.9976" y="70.5352">Subtree Processor</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="135.6729" x="669.9976" y="618.791"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="676.9976" y="639.3262">Subtree Processor</text><path d="m183.2144 112.7988h10v488.9922h-10z" fill="#fff" stroke="#181818"/><path d="m589.8408 184.4199h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m732.834 285.3516h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m171.2144 108.7988 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m27.7524 112.7988h149.462" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.4619" x="34.7524" y="108.0566">ResetBlockAssembly()</text><path d="m193.2144 142.1094h42" stroke="#666"/><path d="m235.2144 142.1094v13" stroke="#666"/><path d="m194.2144 155.1094h41" stroke="#666"/><path d="m204.2144 151.1094-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.7466" x="200.2144" y="137.3672">resetCh &lt;- struct{}{}</text><path d="m577.8408 180.4199 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m193.2144 184.4199h390.6264" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.8545" x="200.2144" y="179.6777">GetBestBlockHeader(ctx)</text><path d="m204.2144 209.7305-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m198.2144 213.7305h395.6264" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.0752" x="210.2144" y="208.9883">bestBlockchainBlockHeader, meta, err</text><path d="m193.2144 243.041h42" stroke="#666"/><path d="m235.2144 243.041v13" stroke="#666"/><path d="m194.2144 256.041h41" stroke="#666"/><path d="m204.2144 252.041-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305.6841" x="200.2144" y="238.2988">getReorgBlocks(ctx, bestBlockchainBlockHeader)</text><path d="m720.834 281.3516 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m193.2144 285.3516h533.6196" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="447.6367" x="200.2144" y="280.6094">Reset(b.bestBlockHeader.Load(), moveBackBlocks, moveForwardBlocks)</text><path d="m204.2144 310.6621-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m198.2144 314.6621h538.6196" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="210.2144" y="309.9199">ResetResponse</text><path d="m115.3784 329.6621h62.1387v7.3106l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m115.3784 329.6621h479.4624v116.8867h-479.4624z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="130.3784" y="343.2305">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="137.312" x="192.5171" y="342.2969">[if reset was successful]</text><path d="m193.2144 368.2832h42" stroke="#666"/><path d="m235.2144 368.2832v13" stroke="#666"/><path d="m194.2144 381.2832h41" stroke="#666"/><path d="m204.2144 377.2832-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287.5171" x="200.2144" y="363.541">Update bestBlockHeader and bestBlockHeight</text><path d="m115.3784 390.2832h479.4624" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="84.0254" x="120.3784" y="400.918">[if reset failed]</text><path d="m193.2144 425.5488h42" stroke="#666"/><path d="m235.2144 425.5488v13" stroke="#666"/><path d="m194.2144 438.5488h41" stroke="#666"/><path d="m204.2144 434.5488-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372.6265" x="200.2144" y="420.8066">Set bestBlockHeader from Processor's current block header</text><path d="m193.2144 474.8594h42" stroke="#666"/><path d="m235.2144 474.8594v13" stroke="#666"/><path d="m194.2144 487.8594h41" stroke="#666"/><path d="m204.2144 483.8594-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.2031" x="200.2144" y="470.1172">SetState(ctx)</text><path d="m193.2144 517.1699h42" stroke="#666"/><path d="m235.2144 517.1699v13" stroke="#666"/><path d="m194.2144 530.1699h41" stroke="#666"/><path d="m204.2144 526.1699-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.6221" x="200.2144" y="512.4277">setCurrentChain(ctx)</text><path d="m193.2144 559.4805h42" stroke="#666"/><path d="m235.2144 559.4805v13" stroke="#666"/><path d="m194.2144 572.4805h41" stroke="#666"/><path d="m204.2144 568.4805-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.6396" x="200.2144" y="554.7383">Set resetWaitCount and resetWaitTime</text><path d="m38.7524 597.791-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m32.7524 601.791h154.462" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.6958" x="44.7524" y="597.0488">EmptyMessage{}</text><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="705.9473">Last Modified On: 24-Feb-2025</text></svg>
