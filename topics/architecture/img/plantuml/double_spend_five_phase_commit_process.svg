<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="553px" preserveAspectRatio="none" style="width:795px;height:553px;background:#F0F8FF;" version="1.1" viewBox="0 0 795 553" width="795px" zoomAndPan="magnify"><title>ProcessConflicting: Five-Phase Commit Process</title><defs/><g><rect fill="#F0F8FF" height="553" style="stroke:none;stroke-width:1.0;" width="795" x="0" y="0"/><text fill="#333333" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="343.6494" x="221.8176" y="28.5352">ProcessConflicting: Five-Phase Commit Process</text><rect fill="#FFFFFF" height="397.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="417.9175" y="83.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="50" x2="50" y1="73.9766" y2="502.3926"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="422.2183" x2="422.2183" y1="73.9766" y2="502.3926"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="91.5264" x="5" y="42.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="12" y="63.0234">UTXO Store</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="91.5264" x="5" y="501.3926"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="12" y="521.9277">UTXO Store</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="139.3984" x="353.2183" y="42.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.3984" x="360.2183" y="63.0234">ProcessConflicting</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="139.3984" x="353.2183" y="501.3926"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.3984" x="360.2183" y="521.9277">ProcessConflicting</text><rect fill="#FFFFFF" height="397.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="417.9175" y="83.9766"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="788.2847" x="0" y="104.6318"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="104.6318" y2="104.6318"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="107.6318" y2="107.6318"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="299.3208" x="244.4819" y="93.9766"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="281.0361" x="250.4819" y="110.5449">Phase 1: Mark Transactions as Conflicting</text><polygon fill="#666666" points="61.7632,147.5977,51.7632,151.5977,61.7632,155.5977,57.7632,151.5977" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="55.7632" x2="416.9175" y1="151.5977" y2="151.5977"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.8989" x="67.7632" y="146.8555">markConflictingRecursively()</text><path d="M432,132.2871 L432,157.2871 L745,157.2871 L745,142.2871 L735,132.2871 L432,132.2871 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M735,132.2871 L735,142.2871 L745,142.2871 L735,132.2871 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292.6841" x="438" y="149.8555">Mark tx_original and all children as conflicting</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="788.2847" x="0" y="183.2529"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="183.2529" y2="183.2529"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="186.2529" y2="186.2529"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="227.5479" x="280.3684" y="172.5977"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="209.2632" x="286.3684" y="189.166">Phase 2: Unspend Transactions</text><polygon fill="#666666" points="61.7632,233.874,51.7632,237.874,61.7632,241.874,57.7632,237.874" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="55.7632" x2="416.9175" y1="237.874" y2="237.874"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233.6382" x="67.7632" y="233.1318">Unspend(affectedParentSpends, true)</text><path d="M432,210.9082 L432,250.9082 L687,250.9082 L687,220.9082 L677,210.9082 L432,210.9082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M677,210.9082 L677,220.9082 L687,220.9082 L677,210.9082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.4663" x="438" y="228.4766">Unspend tx_original and children</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.1904" x="438" y="243.7871">Mark parent UTXOs as not spendable</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="788.2847" x="0" y="277.1846"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="277.1846" y2="277.1846"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="280.1846" y2="280.1846"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="226.1704" x="281.0571" y="266.5293"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="207.8857" x="287.0571" y="283.0977">Phase 3: Process Double Spend</text><polygon fill="#666666" points="61.7632,320.1504,51.7632,324.1504,61.7632,328.1504,57.7632,324.1504" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="55.7632" x2="416.9175" y1="324.1504" y2="324.1504"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.5117" x="67.7632" y="319.4082">Spend(winningTxs, true)</text><path d="M432,304.8398 L432,329.8398 L782,329.8398 L782,314.8398 L772,304.8398 L432,304.8398 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M772,304.8398 L772,314.8398 L782,314.8398 L772,304.8398 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329.3672" x="438" y="322.4082">Spend tx_double_spend ignoring not spendable flag</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="788.2847" x="0" y="355.8057"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="355.8057" y2="355.8057"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="358.8057" y2="358.8057"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="227.2876" x="280.4985" y="345.1504"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="209.0029" x="286.4985" y="361.7188">Phase 4: Update Conflict Status</text><polygon fill="#666666" points="61.7632,398.7715,51.7632,402.7715,61.7632,406.7715,57.7632,402.7715" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="55.7632" x2="416.9175" y1="402.7715" y2="402.7715"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.1201" x="67.7632" y="398.0293">SetConflicting(conflictingTxHashes, false)</text><path d="M432,383.4609 L432,408.4609 L691,408.4609 L691,393.4609 L681,383.4609 L432,383.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M681,383.4609 L681,393.4609 L691,393.4609 L681,383.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.1704" x="438" y="401.0293">Mark double-spend as not conflicting</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="788.2847" x="0" y="434.4268"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="434.4268" y2="434.4268"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="788.2847" y1="437.4268" y2="437.4268"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="132.1997" x="328.0425" y="423.7715"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113.915" x="334.0425" y="440.3398">Phase 5: Cleanup</text><polygon fill="#666666" points="61.7632,477.3926,51.7632,481.3926,61.7632,485.3926,57.7632,481.3926" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="55.7632" x2="421.9175" y1="481.3926" y2="481.3926"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="343.1543" x="67.7632" y="476.6504">SetLocked(markedAsLockedHashes, false)</text><path d="M432,462.082 L432,487.082 L700,487.082 L700,472.082 L690,462.082 L432,462.082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M690,462.082 L690,472.082 L700,472.082 L690,462.082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.5649" x="438" y="479.6504">Mark parent UTXOs as spendable again</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" x="0" y="543.5488">Last Modified On: 24-Feb-2025</text><!--SRC=[fPHHQzim4CVVzIcEZ34N5jZMRGn31fk3sSEoXYM5FWpAnJed8efa9BbD6FtkEojsQwU1mQO7mqcd__tk_i9-gqo53dUmmcAxThOsChFQEdYHlya_vRdmZncIIgnroAq9RSfbNBqKTCxUjuSVunBY5KofL8PWPPqavw7aKzGQIDEEJF2z-nogS83V0k1hp1vgyUufvJGkyI1wAWKJEgl_LuQ_GHMgGXF-JKe8xaOJp9qjoFlCcbAh8YYpJY5NTpIURz0JP7QtKw7B4g9VTtIzlBc2HR2EHe0Ucd2Oy5my9iup8P33EmmKWya4ZkNUfZ13juMbG-ER56jySwEd09E9c6Sm_XphfR3Z_DxnJofgvxa1VKWkXB5SmQdr9hJ2ONzhELO6DQ2HqUjYexHqP9f2nPDI3-jT2jV6LyGN1cGdA6rEWcL9HI0vHrODYsRFluRWQXeITPgdK1tGBnEPgoWJQyHXi0J4YxZIrAEyJ3kVO6fhFeDO-fGoRYRtoXXkSha_IxRek6GKkZroghLXJhPWG02bnlwmtdDZbMoixMpXDuAXVZQk1OMUSKblzClzD_GROhGIjQSpFXwvnaUkTYRdlVkGGgO9JLsTgTywqBIHD0-9v1V_mnujQpR_Xd5gpTDGS8tA225fyD0rbO7_CIpZu3lw03ChLQb8mfL9uMKpjMGavNWscuqFl4ONVm00]--></g></svg>
