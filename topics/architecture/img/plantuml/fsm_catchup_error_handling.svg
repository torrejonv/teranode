<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="471px" preserveAspectRatio="none" style="width:744px;height:471px;background:#F0F8FF;" version="1.1" viewBox="0 0 744 471" width="744px" zoomAndPan="magnify"><title>FSM Catchup Error Handling Behavior</title><defs/><g><rect fill="#F0F8FF" height="471" style="stroke:none;stroke-width:1.0;" width="744" x="0" y="0"/><text fill="#333333" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="270.4092" x="229.8161" y="23.5352">FSM Catchup Error Handling Behavior</text><g id="Running"><rect fill="#DDDDDD" height="50.6211" rx="12.5" ry="12.5" style="stroke:#666666;stroke-width:0.5;" width="178.4082" x="449.8" y="239.4983"/><line style="stroke:#666666;stroke-width:0.5;" x1="449.8" x2="628.2082" y1="265.9866" y2="265.9866"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7314" x="507.1384" y="258.0334">RUNNING</text><text fill="#333333" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158.4082" x="454.8" y="282.5881">Processing blocks normally</text></g><g id="CatchingBlocks"><rect fill="#DDDDDD" height="64.7539" rx="12.5" ry="12.5" style="stroke:#666666;stroke-width:0.5;" width="197.1289" x="198.44" y="382.1283"/><line style="stroke:#666666;stroke-width:0.5;" x1="198.44" x2="395.5689" y1="408.6166" y2="408.6166"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.4258" x="230.7916" y="400.6634">CATCHING_BLOCKS</text><text fill="#333333" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="177.1289" x="203.44" y="425.2181">Fetching and validating blocks</text><text fill="#333333" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63.6445" x="203.44" y="439.3509">from peers</text></g><g id="ErrorState"><rect fill="#DDDDDD" height="103.0195" rx="12.5" ry="12.5" style="stroke:#666666;stroke-width:0.5;" width="216.3125" x="38.85" y="44.4883"/><line style="stroke:#666666;stroke-width:0.5;" x1="38.85" x2="255.1625" y1="70.9766" y2="70.9766"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.0215" x="124.4955" y="63.0234">ERROR</text><text fill="#333333" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135.5625" x="43.85" y="87.5781">Catchup error occurred</text><text fill="#333333" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="196.3125" x="43.85" y="101.7109">State remains CATCHING_BLOCKS</text><line style="stroke:#666666;stroke-width:1.0;" x1="43.85" x2="240.1625" y1="109.2422" y2="109.2422"/><text fill="#333333" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="61.3477" x="43.85" y="125.8438">Important</text><text fill="#333333" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97.4414" x="105.1977" y="125.8438">: State does NOT</text><text fill="#333333" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159.1699" x="43.85" y="139.9766">revert to RUNNING on error</text></g><ellipse cx="633" cy="95.9983" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><g id="elem_GMN10"><path d="M289.69,52.7183 L289.69,91.9983 L255.65,95.9983 L289.69,99.9983 L289.69,139.271 A0,0 0 0 0 289.69,139.271 L588.3174,139.271 A0,0 0 0 0 588.3174,139.271 L588.3174,62.7183 L578.3174,52.7183 L289.69,52.7183 A0,0 0 0 0 289.69,52.7183 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M578.3174,52.7183 L578.3174,62.7183 L588.3174,62.7183 L578.3174,52.7183 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121.5767" x="295.69" y="70.2866">Updated Behavior:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269.1533" x="295.69" y="85.5972">- FSM remains in CATCHING_BLOCKS state</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.6274" x="295.69" y="100.9077">- Does not automatically revert to RUNNING</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.4536" x="295.69" y="116.2183">- Requires explicit resolution or retry</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.7227" x="295.69" y="131.5288">- Prevents inconsistent state transitions</text></g><ellipse cx="692" cy="414.4983" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="692" cy="414.4983" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1.0;"/><!--link *start* to Running--><g id="link_*start*_Running"><path d="M629.21,105.6883 C620.72,124.8983 599.18,172.1783 577,209.4983 C571.07,219.4983 567.3824,225.1723 560.8824,234.2923 " fill="none" id="*start*-to-Running" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="557.4,239.1783,565.8809,234.1708,560.302,235.1066,559.3662,229.5277,557.4,239.1783" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.3892" x="594.79" y="198.5666">Initial State</text></g><!--link Running to CatchingBlocks--><g id="link_Running_CatchingBlocks"><path d="M449.44,286.1783 C392.22,299.5483 327.86,315.3883 323,320.1283 C306.62,336.0983 300.9797,355.4969 298.6697,375.7569 " fill="none" id="Running-to-CatchingBlocks" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="297.99,381.7183,302.9838,373.2294,298.5564,376.7505,295.0353,372.3231,297.99,381.7183" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.3408" x="347.8831" y="333.6966">Catchup Required</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.1069" x="324" y="349.0072">(Missing blocks detected)</text></g><!--link CatchingBlocks to Running--><g id="link_CatchingBlocks_Running"><path d="M395.6,396.7883 C427.89,387.6583 462.28,373.6283 489,352.1283 C508.97,336.0583 520.2882,315.2716 528.2082,295.9116 " fill="none" id="CatchingBlocks-to-Running" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="530.48,290.3583,523.3701,297.1737,528.5868,294.986,530.7745,300.2027,530.48,290.3583" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.3765" x="516.04" y="333.6966">Catchup completed</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.6641" x="539.3962" y="349.0072">successfully</text></g><!--link CatchingBlocks to CatchingBlocks--><g id="link_CatchingBlocks_CatchingBlocks"><path d="M396.02,400.3683 C416.15,401.9083 430.57,406.6183 430.57,414.4983 C430.57,422.3883 422.1325,426.6406 402.0025,428.1806 " fill="none" id="CatchingBlocks-to-CatchingBlocks" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="396.02,428.6383,405.2989,431.9401,401.0054,428.2569,404.6887,423.9634,396.02,428.6383" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.4995" x="436.57" y="419.5666">Processing blocks</text></g><!--link CatchingBlocks to ErrorState--><g id="link_CatchingBlocks_ErrorState"><path d="M282.08,382.0083 C256.11,327.2183 204.9801,219.32 173.6701,153.27 " fill="none" id="CatchingBlocks-to-ErrorState" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="171.1,147.8483,171.3406,157.6942,173.2417,152.3664,178.5696,154.2674,171.1,147.8483" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.3936" x="245.6324" y="254.8866">Error during catchup</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.8184" x="237.92" y="270.1972">(e.g., validation failure,</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.6191" x="265.5196" y="285.5077">network error)</text></g><!--link ErrorState to CatchingBlocks--><g id="link_ErrorState_CatchingBlocks"><path d="M85.57,147.7183 C45.59,187.0883 6,242.7483 36,290.1283 C71.54,346.2283 134.4505,375.6265 192.4305,392.5565 " fill="none" id="ErrorState-to-CatchingBlocks" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="198.19,394.2383,190.6719,387.876,193.3904,392.8368,188.4296,395.5553,198.19,394.2383" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.2266" x="79.7737" y="262.3866">Retry catchup</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.7739" x="37" y="277.6972">(Manual or automatic retry)</text></g><!--link ErrorState to Running--><g id="link_ErrorState_Running"><path d="M255.42,143.1283 C328.38,174.1783 416.2193,211.5585 475.4493,236.7685 " fill="none" id="ErrorState-to-Running" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="480.97,239.1183,474.2554,231.9131,476.3694,237.1601,471.1224,239.2741,480.97,239.1183" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.8203" x="413.8679" y="191.0666">Explicit reset or</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.5161" x="402.02" y="206.3772">successful recovery</text></g><!--link Running to *end*--><g id="link_Running_*end*"><path d="M611.49,290.5583 C626.61,298.2383 641.44,307.9783 653,320.1283 C676.14,344.4283 685.2833,378.5648 689.0333,397.3148 " fill="none" id="Running-to-*end*" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="690.21,403.1983,692.3673,393.5886,689.2294,398.2954,684.5226,395.1575,690.21,403.1983" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2515" x="673.79" y="341.1966">Shutdown</text></g><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="154.8389" x="0" y="461.5502">Last Modified On: 15-Oct-2025</text><!--SRC=[fLHHQzim47xNhpWonbhJbC5WZ3mCbhHUo-gaEEtJF8PgdHCHMV8akLqO- -yxoKdgD7bQzM2mTFVTTzzzabj9tN3BQtZWvMfXJQl5n2XZuKtwFlsKfipj8WHMl5K-DTflGZx4rGlXrfgdpU77k1Xx1nTOIOtmOAn0ww2YKwuKeC8QjNUzVFgLVWr_6C0uHkzZqUvBbXTniR-iXr8IGslKQs7ewsKf6wxzQw6Svnx_3uG4KGZfF8C9z-MoRU2IHBPmnRLGKYzWZ4l-A8sbUh7A8B-VJg-dNmV07UIjrY5e1BVMbEXS-7bGfbmvqCRMD8VrBd7ovMvoHPa_npUpoRTv18X5AMdSvOmWnMu3g3uySYK5zy-WXQwi8UcG1ht3lSppMHxH8lLvt1tj-i7OZodBrbeKXUxEBTPSQYAmJwhGGrg5JfBhkZ7Mqt2IP0HTZZ3eO3gxAxJ5HxGUl86D6c1qLuYnxyaF60u_zxIvrj9BhZeKnhO78UYW_oth77-rCl8zoUIUhW8zbXx5AMCliey27WpcQDgUSfq3H6j3KjaH8XvulZW_sys46gwuLAt5iq9hz4_6hZe9Y9WsGMAvM7emLG-Sl9WazmtbezWvQvGaj3-C9joEHUgNa-bC7WClmXoe1F3McvgubC5dS32K6BmHqW7-RXJTDqznpgWsTa1jMlHs7IDl0m0z65IShhYJpjFVvcvvosadv3Y6vCpG86CzrOvgdmVide8Protv83nGM-PT_TC3h6VtNFPu8-bf2-tQCioqQXLjbeRQNX-TwZF8rbQbgHj51X9za717-wOC3YRFBrilp9DcJ67bwLcbbYtSSESXCq9MaaOuqoDu6wPvCX1Yc6NPS4rhSCh-0G00]--></g></svg>
