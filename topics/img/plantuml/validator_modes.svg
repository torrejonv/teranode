<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1927px" preserveAspectRatio="none" style="width:968px;height:1927px;background:#F0F8FF;" version="1.1" viewBox="0 0 968 1927" width="968px" zoomAndPan="magnify"><title>Validator Service Modes and Routing Logic</title><defs/><g><rect fill="#F0F8FF" height="1927" style="stroke:none;stroke-width:1.0;" width="968" x="0" y="0"/><text fill="#333333" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="308.2734" x="326.3208" y="28.5352">Validator Service Modes and Routing Logic</text><rect fill="#FFFFFF" height="392.3711" style="stroke:#181818;stroke-width:1.0;" width="10" x="255.3311" y="327.1504"/><rect fill="#FFFFFF" height="267.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="255.3311" y="815.4531"/><rect fill="#FFFFFF" height="143.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="454.6367" y="463.3926"/><rect fill="#FFFFFF" height="172.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="594.9727" y="1112.248"/><rect fill="#FFFFFF" height="143.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="594.9727" y="1364.377"/><rect fill="none" height="430.9922" style="stroke:#000000;stroke-width:1.5;" width="931.915" x="10" y="288.5293"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="298.1519" x="20" y="621.6348"/><rect fill="none" height="775.0977" style="stroke:#000000;stroke-width:1.5;" width="941.915" x="10" y="776.832"/><rect fill="none" height="565.2344" style="stroke:#000000;stroke-width:1.5;" width="921.915" x="20" y="979.6953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="118.9766" y2="1831.2773"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="259.5103" x2="259.5103" y1="118.9766" y2="1831.2773"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="458.8848" x2="458.8848" y1="118.9766" y2="1831.2773"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="599.7061" x2="599.7061" y1="118.9766" y2="1831.2773"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="783.8857" x2="783.8857" y1="118.9766" y2="1831.2773"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="846.8184" x2="846.8184" y1="118.9766" y2="1831.2773"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="907.0107" x2="907.0107" y1="118.9766" y2="1831.2773"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="30" y="116.0234">Client</text><ellipse cx="52.7524" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.7524,58.9883 L52.7524,85.9883 M39.7524,66.9883 L65.7524,66.9883 M52.7524,85.9883 L39.7524,100.9883 M52.7524,85.9883 L65.7524,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="30" y="1843.8125">Client</text><ellipse cx="52.7524" cy="1855.2656" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.7524,1863.2656 L52.7524,1890.2656 M39.7524,1871.2656 L65.7524,1871.2656 M52.7524,1890.2656 L39.7524,1905.2656 M52.7524,1890.2656 L65.7524,1905.2656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="95.6416" x="212.5103" y="71"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.6416" x="219.5103" y="91.5352">Propagation</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.332" x="236.665" y="108.0234">Service</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="95.6416" x="212.5103" y="1830.2773"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.6416" x="219.5103" y="1850.8125">Propagation</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.332" x="236.665" y="1867.3008">Service</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="85.5039" x="416.8848" y="71"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5039" x="423.8848" y="91.5352">Embedded</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="429.0938" y="108.0234">Validator</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="85.5039" x="416.8848" y="1830.2773"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5039" x="423.8848" y="1850.8125">Embedded</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="429.0938" y="1867.3008">Validator</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="98.5332" x="550.7061" y="71"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="569.4297" y="91.5352">Validator</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.5332" x="557.7061" y="108.0234">Microservice</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="98.5332" x="550.7061" y="1830.2773"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="569.4297" y="1850.8125">Validator</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.5332" x="557.7061" y="1867.3008">Microservice</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="51.9326" x="758.8857" y="87.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="765.8857" y="108.0234">Kafka</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="51.9326" x="758.8857" y="1830.2773"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="765.8857" y="1850.8125">Kafka</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="52.1924" x="820.8184" y="71"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1924" x="827.8184" y="91.5352">UTXO</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.9043" x="829.4624" y="108.0234">Store</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="52.1924" x="820.8184" y="1830.2773"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1924" x="827.8184" y="1850.8125">UTXO</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.9043" x="829.4624" y="1867.3008">Store</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="48.9043" x="883.0107" y="71"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5107" x="892.7075" y="91.5352">Blob</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.9043" x="890.0107" y="108.0234">Store</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="48.9043" x="883.0107" y="1830.2773"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5107" x="892.7075" y="1850.8125">Blob</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.9043" x="890.0107" y="1867.3008">Store</text><rect fill="#FFFFFF" height="392.3711" style="stroke:#181818;stroke-width:1.0;" width="10" x="255.3311" y="327.1504"/><rect fill="#FFFFFF" height="267.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="255.3311" y="815.4531"/><rect fill="#FFFFFF" height="143.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="454.6367" y="463.3926"/><rect fill="#FFFFFF" height="172.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="594.9727" y="1112.248"/><rect fill="#FFFFFF" height="143.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="594.9727" y="1364.377"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="961.915" x="0" y="149.6318"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961.915" y1="149.6318" y2="149.6318"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961.915" y1="152.6318" y2="152.6318"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="172.7803" x="394.5674" y="138.9766"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="154.4956" x="400.5674" y="155.5449">Configuration Decision</text><path d="M35,177.2871 L35,232.2871 L484,232.2871 L484,187.2871 L474,177.2871 L35,177.2871 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><path d="M474,177.2871 L474,187.2871 L484,187.2871 L474,177.2871 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.499" x="41" y="194.8555">Configuration determines mode:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="415.2891" x="41" y="210.166">- validator.kafka.producer.client configured &#8594; Microservice Mode</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428.2192" x="41" y="225.4766">- validator.kafka.producer.client not configured &#8594; Embedded Mode</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="961.915" x="0" y="258.874"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961.915" y1="258.874" y2="258.874"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961.915" y1="261.874" y2="261.874"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="210.2822" x="375.8164" y="248.2188"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="191.9976" x="381.8164" y="264.7871">Mode 1: Embedded Validator</text><path d="M10,288.5293 L291.9517,288.5293 L291.9517,295.8398 L281.9517,305.8398 L10,305.8398 L10,288.5293 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="430.9922" style="stroke:#000000;stroke-width:1.5;" width="931.915" x="10" y="288.5293"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="236.9517" x="25" y="302.0977">Embedded Mode (Direct Validation)</text><polygon fill="#666666" points="243.3311,323.1504,253.3311,327.1504,243.3311,331.1504,247.3311,327.1504" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="52.7524" x2="249.3311" y1="327.1504" y2="327.1504"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.0464" x="59.7524" y="322.4082">Submit Transaction</text><polygon fill="#666666" points="895.4629,352.4609,905.4629,356.4609,895.4629,360.4609,899.4629,356.4609" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="265.3311" x2="901.4629" y1="356.4609" y2="356.4609"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4492" x="272.3311" y="351.7188">Store Transaction</text><line style="stroke:#666666;stroke-width:1.0;" x1="265.3311" x2="307.3311" y1="385.7715" y2="385.7715"/><line style="stroke:#666666;stroke-width:1.0;" x1="307.3311" x2="307.3311" y1="385.7715" y2="398.7715"/><line style="stroke:#666666;stroke-width:1.0;" x1="266.3311" x2="307.3311" y1="398.7715" y2="398.7715"/><polygon fill="#666666" points="276.3311,394.7715,266.3311,398.7715,276.3311,402.7715,272.3311,398.7715" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.6064" x="272.3311" y="381.0293">Check Configuration</text><path d="M270,411.7715 L270,436.7715 L481,436.7715 L481,421.7715 L471,411.7715 L270,411.7715 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><path d="M471,411.7715 L471,421.7715 L481,421.7715 L471,411.7715 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.2773" x="276" y="429.3398">No Kafka producer configured</text><polygon fill="#666666" points="442.6367,459.3926,452.6367,463.3926,442.6367,467.3926,446.6367,463.3926" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="265.3311" x2="448.6367" y1="463.3926" y2="463.3926"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.0156" x="272.3311" y="458.6504">validator.Validate(tx)</text><line style="stroke:#666666;stroke-width:1.0;" x1="464.6367" x2="506.6367" y1="492.7031" y2="492.7031"/><line style="stroke:#666666;stroke-width:1.0;" x1="506.6367" x2="506.6367" y1="492.7031" y2="505.7031"/><line style="stroke:#666666;stroke-width:1.0;" x1="465.6367" x2="506.6367" y1="505.7031" y2="505.7031"/><polygon fill="#666666" points="475.6367,501.7031,465.6367,505.7031,475.6367,509.7031,471.6367,505.7031" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.124" x="471.6367" y="487.9609">Script Validation</text><line style="stroke:#666666;stroke-width:1.0;" x1="464.6367" x2="506.6367" y1="535.0137" y2="535.0137"/><line style="stroke:#666666;stroke-width:1.0;" x1="506.6367" x2="506.6367" y1="535.0137" y2="548.0137"/><line style="stroke:#666666;stroke-width:1.0;" x1="465.6367" x2="506.6367" y1="548.0137" y2="548.0137"/><polygon fill="#666666" points="475.6367,544.0137,465.6367,548.0137,475.6367,552.0137,471.6367,548.0137" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3359" x="471.6367" y="530.2715">Consensus Rules</text><polygon fill="#666666" points="834.9146,573.3242,844.9146,577.3242,834.9146,581.3242,838.9146,577.3242" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="464.6367" x2="840.9146" y1="577.3242" y2="577.3242"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.0688" x="471.6367" y="572.582">Verify/Update UTXOs</text><polygon fill="#666666" points="276.3311,602.6348,266.3311,606.6348,276.3311,610.6348,272.3311,606.6348" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="270.3311" x2="458.6367" y1="606.6348" y2="606.6348"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1201" x="282.3311" y="601.8926">Validation Result</text><path d="M20,621.6348 L82.1387,621.6348 L82.1387,628.9453 L72.1387,638.9453 L20,638.9453 L20,621.6348 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="298.1519" x="20" y="621.6348"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="635.2031">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107.481" x="97.1387" y="634.2695">[Valid Transaction]</text><polygon fill="#666666" points="63.7524,656.2559,53.7524,660.2559,63.7524,664.2559,59.7524,660.2559" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="57.7524" x2="254.3311" y1="660.2559" y2="660.2559"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.1914" x="69.7524" y="655.5137">Success Response</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="318.1519" y1="669.2559" y2="669.2559"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117.1919" x="25" y="679.8906">[Invalid Transaction]</text><polygon fill="#666666" points="63.7524,700.5215,53.7524,704.5215,63.7524,708.5215,59.7524,704.5215" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="57.7524" x2="254.3311" y1="704.5215" y2="704.5215"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.2974" x="69.7524" y="699.7793">Error Response</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="961.915" x="0" y="747.1768"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961.915" y1="747.1768" y2="747.1768"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961.915" y1="750.1768" y2="750.1768"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="224.6914" x="368.6118" y="736.5215"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="206.4067" x="374.6118" y="753.0898">Mode 2: Microservice Validator</text><path d="M10,776.832 L306.0688,776.832 L306.0688,784.1426 L296.0688,794.1426 L10,794.1426 L10,776.832 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="775.0977" style="stroke:#000000;stroke-width:1.5;" width="941.915" x="10" y="776.832"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="251.0688" x="25" y="790.4004">Microservice Mode (Async Validation)</text><polygon fill="#666666" points="243.3311,811.4531,253.3311,815.4531,243.3311,819.4531,247.3311,815.4531" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="52.7524" x2="249.3311" y1="815.4531" y2="815.4531"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.0464" x="59.7524" y="810.7109">Submit Transaction</text><polygon fill="#666666" points="895.4629,840.7637,905.4629,844.7637,895.4629,848.7637,899.4629,844.7637" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="265.3311" x2="901.4629" y1="844.7637" y2="844.7637"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4492" x="272.3311" y="840.0215">Store Transaction</text><line style="stroke:#666666;stroke-width:1.0;" x1="265.3311" x2="307.3311" y1="874.0742" y2="874.0742"/><line style="stroke:#666666;stroke-width:1.0;" x1="307.3311" x2="307.3311" y1="874.0742" y2="887.0742"/><line style="stroke:#666666;stroke-width:1.0;" x1="266.3311" x2="307.3311" y1="887.0742" y2="887.0742"/><polygon fill="#666666" points="276.3311,883.0742,266.3311,887.0742,276.3311,891.0742,272.3311,887.0742" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.6064" x="272.3311" y="869.332">Check Configuration</text><path d="M270,900.0742 L270,925.0742 L459,925.0742 L459,910.0742 L449,900.0742 L270,900.0742 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><path d="M449,900.0742 L449,910.0742 L459,910.0742 L449,900.0742 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.5747" x="276" y="917.6426">Kafka producer configured</text><line style="stroke:#666666;stroke-width:1.0;" x1="265.3311" x2="307.3311" y1="951.6953" y2="951.6953"/><line style="stroke:#666666;stroke-width:1.0;" x1="307.3311" x2="307.3311" y1="951.6953" y2="964.6953"/><line style="stroke:#666666;stroke-width:1.0;" x1="266.3311" x2="307.3311" y1="964.6953" y2="964.6953"/><polygon fill="#666666" points="276.3311,960.6953,266.3311,964.6953,276.3311,968.6953,272.3311,964.6953" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.3057" x="272.3311" y="946.9531">Calculate Transaction Size</text><path d="M20,979.6953 L82.1387,979.6953 L82.1387,987.0059 L72.1387,997.0059 L20,997.0059 L20,979.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="565.2344" style="stroke:#000000;stroke-width:1.5;" width="921.915" x="20" y="979.6953"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="993.2637">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="255.6211" x="97.1387" y="992.3301">[Transaction Size &#8804; Kafka Max Message Size]</text><path d="M166,1002.0059 L166,1027.0059 L354,1027.0059 L354,1012.0059 L344,1002.0059 L166,1002.0059 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><path d="M344,1002.0059 L344,1012.0059 L354,1012.0059 L344,1002.0059 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.3687" x="172" y="1019.5742">Standard routing via Kafka</text><polygon fill="#666666" points="772.8521,1049.627,782.8521,1053.627,772.8521,1057.627,776.8521,1053.627" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="265.3311" x2="778.8521" y1="1053.627" y2="1053.627"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.4302" x="272.3311" y="1048.8848">Publish KafkaTxValidationTopicMessage</text><polygon fill="#666666" points="63.7524,1078.9375,53.7524,1082.9375,63.7524,1086.9375,59.7524,1082.9375" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="57.7524" x2="259.3311" y1="1082.9375" y2="1082.9375"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.5786" x="69.7524" y="1078.1953">Accepted (async processing)</text><polygon fill="#666666" points="615.9727,1108.248,605.9727,1112.248,615.9727,1116.248,611.9727,1112.248" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="609.9727" x2="783.8521" y1="1112.248" y2="1112.248"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.457" x="621.9727" y="1107.5059">Consume Message</text><polygon fill="#666666" points="895.4629,1137.5586,905.4629,1141.5586,895.4629,1145.5586,899.4629,1141.5586" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="604.9727" x2="901.4629" y1="1141.5586" y2="1141.5586"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6543" x="611.9727" y="1136.8164">Retrieve Transaction</text><line style="stroke:#666666;stroke-width:1.0;" x1="604.9727" x2="646.9727" y1="1170.8691" y2="1170.8691"/><line style="stroke:#666666;stroke-width:1.0;" x1="646.9727" x2="646.9727" y1="1170.8691" y2="1183.8691"/><line style="stroke:#666666;stroke-width:1.0;" x1="605.9727" x2="646.9727" y1="1183.8691" y2="1183.8691"/><polygon fill="#666666" points="615.9727,1179.8691,605.9727,1183.8691,615.9727,1187.8691,611.9727,1183.8691" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.124" x="611.9727" y="1166.127">Script Validation</text><line style="stroke:#666666;stroke-width:1.0;" x1="604.9727" x2="646.9727" y1="1213.1797" y2="1213.1797"/><line style="stroke:#666666;stroke-width:1.0;" x1="646.9727" x2="646.9727" y1="1213.1797" y2="1226.1797"/><line style="stroke:#666666;stroke-width:1.0;" x1="605.9727" x2="646.9727" y1="1226.1797" y2="1226.1797"/><polygon fill="#666666" points="615.9727,1222.1797,605.9727,1226.1797,615.9727,1230.1797,611.9727,1226.1797" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3359" x="611.9727" y="1208.4375">Consensus Rules</text><polygon fill="#666666" points="834.9146,1251.4902,844.9146,1255.4902,834.9146,1259.4902,838.9146,1255.4902" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="604.9727" x2="840.9146" y1="1255.4902" y2="1255.4902"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.0688" x="611.9727" y="1250.748">Verify/Update UTXOs</text><polygon fill="#666666" points="772.8521,1280.8008,782.8521,1284.8008,772.8521,1288.8008,776.8521,1284.8008" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="599.9727" x2="778.8521" y1="1284.8008" y2="1284.8008"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.8794" x="606.9727" y="1280.0586">Publish Validation Result</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="941.915" y1="1293.8008" y2="1293.8008"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="255.6265" x="25" y="1304.4355">[Transaction Size &gt; Kafka Max Message Size]</text><path d="M140,1312.7559 L140,1337.7559 L379,1337.7559 L379,1322.7559 L369,1312.7559 L140,1312.7559 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><path d="M369,1312.7559 L369,1322.7559 L379,1322.7559 L369,1312.7559 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.8101" x="146" y="1330.3242">Large transaction routing via HTTP</text><polygon fill="#666666" points="582.9727,1360.377,592.9727,1364.377,582.9727,1368.377,586.9727,1364.377" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="260.3311" x2="588.9727" y1="1364.377" y2="1364.377"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.6191" x="267.3311" y="1359.6348">HTTP POST /validate</text><line style="stroke:#666666;stroke-width:1.0;" x1="604.9727" x2="646.9727" y1="1393.6875" y2="1393.6875"/><line style="stroke:#666666;stroke-width:1.0;" x1="646.9727" x2="646.9727" y1="1393.6875" y2="1406.6875"/><line style="stroke:#666666;stroke-width:1.0;" x1="605.9727" x2="646.9727" y1="1406.6875" y2="1406.6875"/><polygon fill="#666666" points="615.9727,1402.6875,605.9727,1406.6875,615.9727,1410.6875,611.9727,1406.6875" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.124" x="611.9727" y="1388.9453">Script Validation</text><line style="stroke:#666666;stroke-width:1.0;" x1="604.9727" x2="646.9727" y1="1435.998" y2="1435.998"/><line style="stroke:#666666;stroke-width:1.0;" x1="646.9727" x2="646.9727" y1="1435.998" y2="1448.998"/><line style="stroke:#666666;stroke-width:1.0;" x1="605.9727" x2="646.9727" y1="1448.998" y2="1448.998"/><polygon fill="#666666" points="615.9727,1444.998,605.9727,1448.998,615.9727,1452.998,611.9727,1448.998" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3359" x="611.9727" y="1431.2559">Consensus Rules</text><polygon fill="#666666" points="834.9146,1474.3086,844.9146,1478.3086,834.9146,1482.3086,838.9146,1478.3086" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="604.9727" x2="840.9146" y1="1478.3086" y2="1478.3086"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.0688" x="611.9727" y="1473.5664">Verify/Update UTXOs</text><polygon fill="#666666" points="271.3311,1503.6191,261.3311,1507.6191,271.3311,1511.6191,267.3311,1507.6191" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="265.3311" x2="598.9727" y1="1507.6191" y2="1507.6191"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.4873" x="277.3311" y="1502.877">HTTP Response</text><polygon fill="#666666" points="63.7524,1532.9297,53.7524,1536.9297,63.7524,1540.9297,59.7524,1536.9297" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="57.7524" x2="259.3311" y1="1536.9297" y2="1536.9297"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1201" x="69.7524" y="1532.1875">Validation Result</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="961.915" x="0" y="1579.585"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961.915" y1="1579.585" y2="1579.585"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="961.915" y1="1582.585" y2="1582.585"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="123.8779" x="419.0186" y="1568.9297"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105.5933" x="425.0186" y="1585.498">Key Differences</text><path d="M31,1607.2402 L31,1816.2402 L927,1816.2402 L927,1617.2402 L917,1607.2402 L31,1607.2402 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><path d="M917,1607.2402 L917,1617.2402 L927,1617.2402 L917,1607.2402 " fill="#FFFFCC" style="stroke:#666666;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113.9341" x="331.2847" y="1624.8086">Embedded Mode:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.728" x="331.2847" y="1640.1191">&#8226; Synchronous processing</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.2563" x="331.2847" y="1655.4297">&#8226; No network overhead</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6626" x="331.2847" y="1670.7402">&#8226; Direct method calls</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.293" x="331.2847" y="1686.0508">&#8226; Immediate response</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.0479" x="331.2847" y="1701.3613">&#8226; No size limitations</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="331.2847" y="1716.6719">&#160;</text><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128.3433" x="331.2847" y="1731.9824">Microservice Mode:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287.3457" x="331.2847" y="1747.293">&#8226; Asynchronous processing (except large txs)</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.5254" x="331.2847" y="1762.6035">&#8226; Network communication overhead</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.1382" x="331.2847" y="1777.9141">&#8226; Kafka/HTTP transport</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.4268" x="331.2847" y="1793.2246">&#8226; Delayed response for standard txs</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.4482" x="331.2847" y="1808.5352">&#8226; Size-based routing logic</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="150.415" x="0" y="1917.4336">Last Modified On: 4-Sep-2025</text><!--SRC=[pLRDZjis4BxhAGOkYkuQy6v_WA8mi04IRum6YRkBjHFqi1UQ7Dc4AL8WAMVTea1F1Nhj8nHzidsI3YdAacotsI27LWT1udmpdFdcuqXk8tN9B2jWoVXcPKsbnSGeO-6pwPVJxwRJpEqH0dDMAJyrsYV8D_7gG9YrvdqoVXklBFi2hZ6N6c5fh43h82ShKmfGOO7Qkuu_lKg_WvypW1SHtOz5guTPNiSh-oNhHE6KeJNgKyFGtKikIwRzfuRInkF7n9ZIDPc46CI7GdZ7b1JCascETYivmim8TC2qW3jJUQbNyCQi9CyonWDiC56Io1m0Sr0_Pjro1hVMb6p5l3JwNgUO4HmCVUZBOeb2eBZN-omYajPfeO_T8-xrJ79hN2SosMRpFlmropSi6kDJt_XsyUCDvKR1Ql_mtaUyK6RPHOJtBBkwWedHkLnLDjP7ykFIXOUhgomsmcpHreN20LIWHrkGM1qKHF2O02FODaLTR4AM5wKrek9eBtWaDiWjXa01Zx_z0Tt2OvkU58GIEmpK45y7GMfro3uM65RWgt4BQGL2HGOfbNrtEBkM5hblW5JiUQY-tdpqBD81OvXNoq9wM5Yc7Ic9O8GA3rj6n2NE8fPy0j_19pJWmAM1fB2JDV9Ddsi2nMPOkLfxC7a3_S7KOe26eGujvDE9NGkGN5fkKtLuvX_EkuadhKBZq_MUSolBBZ6dOPIyG-qg1tULGjS31MaIv1rQcUyktvOXXRZOXwKAsvtW3XrDL089FCur5A1IOWVqjYIa3eRESOxEXP1bI9LGg1p2AxrzMe2NDBjjprsBVcQn_M5rBy6lntsvdv3XqN60i-Tkf_d_NubFb64Jc2bUgP1RPt-Oov-mRUMX1Hv__ojjCsCFCAF-iHKsJYcj_RIA1TB4PrQ0JKD_ArcQdTsUrY77S5ijbNJh-dtnq3A-CANaQRlJQdXEQYezJOyp5hj5D0HvqPxdqU5G5c4jtkgzALISz-dWL0L2TxkzR_rH24irlEtb7NehSOj7mjq3cmrE7U0JiEC3t07zwmdku0wPFNMMU-Iq1JO7yaW4ppvA0c-O9Rll1EbguVl5uhRNqARwO83Rc_a2BjEu_70d_Wk2KvKntSui-WTEZsJxmNuaiOOfraoorxY3QvddQ56JnlU_2ImChf3USDZxbew7Grfy_FLFcDF9M5kZ3TNS7f1af0-PHl_Us4titngPI9RqAIxGhuq0Jl_2BbbU5GKA6VAqRUqfc0jQKPA6OgpFrMDbE3mQi6r-ST0U9mXd-11EDwXQIm_klDac9SnDKLHQyfh9W_IZMYzZXw8CIsDzKnagjYEQckpZlxvhXXPjr117jOoMp64xoLJyVMt_SXJcdjpfsPBcdG-boLoInuqUm-VnApyGOZIRpKOxkWRdsTy0]--></g></svg>
