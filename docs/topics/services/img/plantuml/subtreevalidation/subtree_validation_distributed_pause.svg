<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2532px" preserveAspectRatio="none" style="width:1392px;height:2532px;background:#F0F8FF;" version="1.1" viewBox="0 0 1392 2532" width="1392px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="2532" style="stroke:none;stroke-width:1.0;" width="1392" x="0" y="0"/><text fill="#333333" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="379" x="502.75" y="28.5352">Distributed Pause Mechanism for Subtree Validation</text><rect fill="#FFFFFF" height="1258.8008" style="stroke:#181818;stroke-width:1.0;" width="10" x="129.5" y="204.0859"/><rect fill="#FFFFFF" height="346.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="134.5" y="246.3965"/><rect fill="#ADD8E6" height="129.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="139.5" y="463.5703"/><rect fill="#FFFFFF" height="215.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="134.5" y="1247.7129"/><rect fill="#FFFFFF" height="199.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.5" y="673.7441"/><rect fill="#FFFFFF" height="157.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="363.5" y="716.0547"/><rect fill="#FFFFFF" height="199.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.5" y="1550.5078"/><rect fill="#FFFFFF" height="208.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.5" y="2200.7422"/><rect fill="#FFFFFF" height="199.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="651.5" y="917.918"/><rect fill="#FFFFFF" height="157.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="656.5" y="960.2285"/><rect fill="#FFFFFF" height="199.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="651.5" y="1794.6816"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="280.707"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="750.3652"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="994.5391"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="1324.334"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="1627.1289"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="1871.3027"/><rect fill="#FFFFFF" height="138.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="2235.0527"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="134" x2="134" y1="121.4648" y2="2130.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="134" x2="134" y1="2130.4766" y2="2171.4316"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="134" x2="134" y1="2171.4316" y2="2433.916"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="363" x2="363" y1="121.4648" y2="2130.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="363" x2="363" y1="2130.4766" y2="2171.4316"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="363" x2="363" y1="2171.4316" y2="2433.916"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="656" x2="656" y1="121.4648" y2="2130.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="656" x2="656" y1="2130.4766" y2="2171.4316"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="656" x2="656" y1="2171.4316" y2="2433.916"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="949" x2="949" y1="121.4648" y2="2130.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="949" x2="949" y1="2130.4766" y2="2171.4316"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="949" x2="949" y1="2171.4316" y2="2433.916"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1181" x2="1181" y1="121.4648" y2="2130.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1181" x2="1181" y1="2130.4766" y2="2171.4316"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1181" x2="1181" y1="2171.4316" y2="2433.916"/><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="133" x="68" y="73.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="114.5" y="94.0234">Pod A</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="75" y="110.5117">(Block Validation)</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="133" x="68" y="2432.916"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="114.5" y="2453.4512">Pod A</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="75" y="2469.9395">(Block Validation)</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="155" x="286" y="73.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="344.5" y="94.0234">Pod B</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="293" y="110.5117">(Subtree Processing)</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="155" x="286" y="2432.916"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="344.5" y="2453.4512">Pod B</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="293" y="2469.9395">(Subtree Processing)</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="155" x="579" y="73.4883"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="636.5" y="94.0234">Pod C</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="586" y="110.5117">(Subtree Processing)</text><rect fill="#DDDDDD" height="46.9766" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="155" x="579" y="2432.916"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="636.5" y="2453.4512">Pod C</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="586" y="2469.9395">(Subtree Processing)</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="894" y="102.0234">Shared Storage</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="913" y="118.5117">(Quorum)</text><path d="M931.5,52.4883 C931.5,42.4883 949.5,42.4883 949.5,42.4883 C949.5,42.4883 967.5,42.4883 967.5,52.4883 L967.5,78.4883 C967.5,88.4883 949.5,88.4883 949.5,88.4883 C949.5,88.4883 931.5,88.4883 931.5,78.4883 L931.5,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M931.5,52.4883 C931.5,62.4883 949.5,62.4883 949.5,62.4883 C949.5,62.4883 967.5,62.4883 967.5,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="894" y="2446.4512">Shared Storage</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="913" y="2462.9395">(Quorum)</text><path d="M931.5,2475.8926 C931.5,2465.8926 949.5,2465.8926 949.5,2465.8926 C949.5,2465.8926 967.5,2465.8926 967.5,2475.8926 L967.5,2501.8926 C967.5,2511.8926 949.5,2511.8926 949.5,2511.8926 C949.5,2511.8926 931.5,2511.8926 931.5,2501.8926 L931.5,2475.8926 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M931.5,2475.8926 C931.5,2485.8926 949.5,2485.8926 949.5,2485.8926 C949.5,2485.8926 967.5,2485.8926 967.5,2475.8926 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="111" x="1107" y="118.5117">SUBTREE_PAUSE</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1218" y="118.5117">.lock</text><ellipse cx="1181.5" cy="88.9766" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><line style="stroke:#666666;stroke-width:0.5;" x1="1169.5" x2="1193.5" y1="102.9766" y2="102.9766"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="111" x="1107" y="2446.4512">SUBTREE_PAUSE</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1218" y="2446.4512">.lock</text><ellipse cx="1181.5" cy="2465.4043" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><line style="stroke:#666666;stroke-width:0.5;" x1="1169.5" x2="1193.5" y1="2479.4043" y2="2479.4043"/><rect fill="#FFFFFF" height="1258.8008" style="stroke:#181818;stroke-width:1.0;" width="10" x="129.5" y="204.0859"/><rect fill="#FFFFFF" height="346.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="134.5" y="246.3965"/><rect fill="#ADD8E6" height="129.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="139.5" y="463.5703"/><rect fill="#FFFFFF" height="215.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="134.5" y="1247.7129"/><rect fill="#FFFFFF" height="199.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.5" y="673.7441"/><rect fill="#FFFFFF" height="157.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="363.5" y="716.0547"/><rect fill="#FFFFFF" height="199.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.5" y="1550.5078"/><rect fill="#FFFFFF" height="208.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.5" y="2200.7422"/><rect fill="#FFFFFF" height="199.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="651.5" y="917.918"/><rect fill="#FFFFFF" height="157.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="656.5" y="960.2285"/><rect fill="#FFFFFF" height="199.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="651.5" y="1794.6816"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="280.707"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="750.3652"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="994.5391"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="1324.334"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="1627.1289"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="1871.3027"/><rect fill="#FFFFFF" height="138.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="944.5" y="2235.0527"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1385.5" x="0" y="152.1201"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="152.1201" y2="152.1201"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="155.1201" y2="155.1201"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="231" x="577.25" y="141.4648"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="213" x="583.25" y="158.0332">Block Validation Starts on Pod A</text><line style="stroke:#666666;stroke-width:1.0;" x1="134.5" x2="181.5" y1="191.0859" y2="191.0859"/><line style="stroke:#666666;stroke-width:1.0;" x1="181.5" x2="181.5" y1="191.0859" y2="204.0859"/><line style="stroke:#666666;stroke-width:1.0;" x1="140.5" x2="181.5" y1="204.0859" y2="204.0859"/><polygon fill="#666666" points="150.5,200.0859,140.5,204.0859,150.5,208.0859,146.5,204.0859" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="146.5" y="186.3438">CheckBlockSubtrees() called</text><line style="stroke:#666666;stroke-width:1.0;" x1="139.5" x2="186.5" y1="233.3965" y2="233.3965"/><line style="stroke:#666666;stroke-width:1.0;" x1="186.5" x2="186.5" y1="233.3965" y2="246.3965"/><line style="stroke:#666666;stroke-width:1.0;" x1="145.5" x2="186.5" y1="246.3965" y2="246.3965"/><polygon fill="#666666" points="155.5,242.3965,145.5,246.3965,155.5,250.3965,151.5,246.3965" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="151.5" y="228.6543">setPauseProcessing(ctx)</text><polygon fill="#666666" points="932.5,276.707,942.5,280.707,932.5,284.707,936.5,280.707" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="144.5" x2="938.5" y1="280.707" y2="280.707"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="151.5" y="275.9648">AcquirePauseLock(ctx)</text><polygon fill="#666666" points="1169.5,306.0176,1179.5,310.0176,1169.5,314.0176,1173.5,310.0176" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="954.5" x2="1175.5" y1="310.0176" y2="310.0176"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="961.5" y="305.2754">Create lock file with timestamp</text><polygon fill="#666666" points="965.5,335.3281,955.5,339.3281,965.5,343.3281,961.5,339.3281" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959.5" x2="1180.5" y1="339.3281" y2="339.3281"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="971.5" y="334.5859">Lock created</text><polygon fill="#666666" points="155.5,364.6387,145.5,368.6387,155.5,372.6387,151.5,368.6387" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="149.5" x2="948.5" y1="368.6387" y2="368.6387"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="161.5" y="363.8965">Lock acquired, release function returned</text><line style="stroke:#666666;stroke-width:1.0;" x1="144.5" x2="186.5" y1="413.2598" y2="413.2598"/><line style="stroke:#666666;stroke-width:1.0;" x1="186.5" x2="186.5" y1="413.2598" y2="426.2598"/><line style="stroke:#666666;stroke-width:1.0;" x1="145.5" x2="186.5" y1="426.2598" y2="426.2598"/><polygon fill="#666666" points="155.5,422.2598,145.5,426.2598,155.5,430.2598,151.5,426.2598" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="151.5" y="393.207">Set local atomic flag</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="151.5" y="408.5176">pauseSubtreeProcessing = true</text><line style="stroke:#666666;stroke-width:1.0;" x1="144.5" x2="191.5" y1="450.5703" y2="450.5703"/><line style="stroke:#666666;stroke-width:1.0;" x1="191.5" x2="191.5" y1="450.5703" y2="463.5703"/><line style="stroke:#666666;stroke-width:1.0;" x1="150.5" x2="191.5" y1="463.5703" y2="463.5703"/><polygon fill="#666666" points="160.5,459.5703,150.5,463.5703,160.5,467.5703,156.5,463.5703" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="156.5" y="445.8281">Start heartbeat goroutine</text><path d="M154,481.5703 L154,536.5703 L332,536.5703 L332,491.5703 L322,481.5703 L154,481.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M322,481.5703 L322,491.5703 L332,491.5703 L322,481.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="160" y="499.1387">Heartbeat updates lock</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="160" y="514.4492">every timeout/2 seconds</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="160" y="529.7598">(default: 5 seconds)</text><polygon fill="#666666" points="937.5,559.8125,947.5,563.8125,937.5,567.8125,941.5,563.8125" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="149.5" x2="943.5" y1="563.8125" y2="563.8125"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="156.5" y="559.0703">Update lock timestamp</text><polygon fill="#666666" points="1169.5,589.123,1179.5,593.123,1169.5,597.123,1173.5,593.123" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="949.5" x2="1175.5" y1="593.123" y2="593.123"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="956.5" y="588.3809">Update modification time</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1385.5" x="0" y="621.7783"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="621.7783" y2="621.7783"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="624.7783" y2="624.7783"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="227" x="579.25" y="611.123"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="209" x="585.25" y="627.6914">Other Pods Check Pause Status</text><line style="stroke:#666666;stroke-width:1.0;" x1="363.5" x2="410.5" y1="660.7441" y2="660.7441"/><line style="stroke:#666666;stroke-width:1.0;" x1="410.5" x2="410.5" y1="660.7441" y2="673.7441"/><line style="stroke:#666666;stroke-width:1.0;" x1="369.5" x2="410.5" y1="673.7441" y2="673.7441"/><polygon fill="#666666" points="379.5,669.7441,369.5,673.7441,379.5,677.7441,375.5,673.7441" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="375.5" y="656.002">Process subtree message from Kafka</text><line style="stroke:#666666;stroke-width:1.0;" x1="368.5" x2="415.5" y1="703.0547" y2="703.0547"/><line style="stroke:#666666;stroke-width:1.0;" x1="415.5" x2="415.5" y1="703.0547" y2="716.0547"/><line style="stroke:#666666;stroke-width:1.0;" x1="374.5" x2="415.5" y1="716.0547" y2="716.0547"/><polygon fill="#666666" points="384.5,712.0547,374.5,716.0547,384.5,720.0547,380.5,716.0547" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="380.5" y="698.3125">Check isPauseActive()</text><polygon fill="#666666" points="932.5,746.3652,942.5,750.3652,932.5,754.3652,936.5,750.3652" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="373.5" x2="938.5" y1="750.3652" y2="750.3652"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="380.5" y="745.623">IsPauseActive() (distributed check)</text><polygon fill="#666666" points="1169.5,775.6758,1179.5,779.6758,1169.5,783.6758,1173.5,779.6758" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="954.5" x2="1175.5" y1="779.6758" y2="779.6758"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="961.5" y="774.9336">Check if lock exists and is fresh</text><polygon fill="#666666" points="965.5,804.9863,955.5,808.9863,965.5,812.9863,961.5,808.9863" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959.5" x2="1180.5" y1="808.9863" y2="808.9863"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="971.5" y="804.2441">Lock exists, age &lt; timeout</text><polygon fill="#666666" points="384.5,834.2969,374.5,838.2969,384.5,842.2969,380.5,838.2969" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="378.5" x2="948.5" y1="838.2969" y2="838.2969"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="390.5" y="833.5547">Pause is active = true</text><line style="stroke:#666666;stroke-width:1.0;" x1="373.5" x2="415.5" y1="872.6074" y2="872.6074"/><line style="stroke:#666666;stroke-width:1.0;" x1="415.5" x2="415.5" y1="872.6074" y2="885.6074"/><line style="stroke:#666666;stroke-width:1.0;" x1="368.5" x2="415.5" y1="885.6074" y2="885.6074"/><polygon fill="#666666" points="378.5,881.6074,368.5,885.6074,378.5,889.6074,374.5,885.6074" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="380.5" y="867.8652">Skip processing, return message to queue</text><line style="stroke:#666666;stroke-width:1.0;" x1="656.5" x2="703.5" y1="904.918" y2="904.918"/><line style="stroke:#666666;stroke-width:1.0;" x1="703.5" x2="703.5" y1="904.918" y2="917.918"/><line style="stroke:#666666;stroke-width:1.0;" x1="662.5" x2="703.5" y1="917.918" y2="917.918"/><polygon fill="#666666" points="672.5,913.918,662.5,917.918,672.5,921.918,668.5,917.918" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="668.5" y="900.1758">Process subtree message from Kafka</text><line style="stroke:#666666;stroke-width:1.0;" x1="661.5" x2="708.5" y1="947.2285" y2="947.2285"/><line style="stroke:#666666;stroke-width:1.0;" x1="708.5" x2="708.5" y1="947.2285" y2="960.2285"/><line style="stroke:#666666;stroke-width:1.0;" x1="667.5" x2="708.5" y1="960.2285" y2="960.2285"/><polygon fill="#666666" points="677.5,956.2285,667.5,960.2285,677.5,964.2285,673.5,960.2285" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="673.5" y="942.4863">Check isPauseActive()</text><polygon fill="#666666" points="932.5,990.5391,942.5,994.5391,932.5,998.5391,936.5,994.5391" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="666.5" x2="938.5" y1="994.5391" y2="994.5391"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="673.5" y="989.7969">IsPauseActive() (distributed check)</text><polygon fill="#666666" points="1169.5,1019.8496,1179.5,1023.8496,1169.5,1027.8496,1173.5,1023.8496" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="954.5" x2="1175.5" y1="1023.8496" y2="1023.8496"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="961.5" y="1019.1074">Check if lock exists and is fresh</text><polygon fill="#666666" points="965.5,1049.1602,955.5,1053.1602,965.5,1057.1602,961.5,1053.1602" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959.5" x2="1180.5" y1="1053.1602" y2="1053.1602"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="971.5" y="1048.418">Lock exists, age &lt; timeout</text><polygon fill="#666666" points="677.5,1078.4707,667.5,1082.4707,677.5,1086.4707,673.5,1082.4707" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="671.5" x2="948.5" y1="1082.4707" y2="1082.4707"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="683.5" y="1077.7285">Pause is active = true</text><line style="stroke:#666666;stroke-width:1.0;" x1="666.5" x2="708.5" y1="1116.7813" y2="1116.7813"/><line style="stroke:#666666;stroke-width:1.0;" x1="708.5" x2="708.5" y1="1116.7813" y2="1129.7813"/><line style="stroke:#666666;stroke-width:1.0;" x1="661.5" x2="708.5" y1="1129.7813" y2="1129.7813"/><polygon fill="#666666" points="671.5,1125.7813,661.5,1129.7813,671.5,1133.7813,667.5,1129.7813" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="673.5" y="1112.0391">Skip processing, return message to queue</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1385.5" x="0" y="1153.4365"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="1153.4365" y2="1153.4365"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="1156.4365" y2="1156.4365"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="200" x="592.75" y="1142.7813"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="182" x="598.75" y="1159.3496">Block Validation Completes</text><line style="stroke:#666666;stroke-width:1.0;" x1="139.5" x2="181.5" y1="1197.4023" y2="1197.4023"/><line style="stroke:#666666;stroke-width:1.0;" x1="181.5" x2="181.5" y1="1197.4023" y2="1210.4023"/><line style="stroke:#666666;stroke-width:1.0;" x1="140.5" x2="181.5" y1="1210.4023" y2="1210.4023"/><polygon fill="#666666" points="150.5,1206.4023,140.5,1210.4023,150.5,1214.4023,146.5,1210.4023" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="146.5" y="1192.6602">Block validation complete</text><line style="stroke:#666666;stroke-width:1.0;" x1="139.5" x2="186.5" y1="1234.7129" y2="1234.7129"/><line style="stroke:#666666;stroke-width:1.0;" x1="186.5" x2="186.5" y1="1234.7129" y2="1247.7129"/><line style="stroke:#666666;stroke-width:1.0;" x1="145.5" x2="186.5" y1="1247.7129" y2="1247.7129"/><polygon fill="#666666" points="155.5,1243.7129,145.5,1247.7129,155.5,1251.7129,151.5,1247.7129" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="151.5" y="1229.9707">Release pause lock (deferred)</text><line style="stroke:#666666;stroke-width:1.0;" x1="144.5" x2="186.5" y1="1282.0234" y2="1282.0234"/><line style="stroke:#666666;stroke-width:1.0;" x1="186.5" x2="186.5" y1="1282.0234" y2="1295.0234"/><line style="stroke:#666666;stroke-width:1.0;" x1="145.5" x2="186.5" y1="1295.0234" y2="1295.0234"/><polygon fill="#666666" points="155.5,1291.0234,145.5,1295.0234,155.5,1299.0234,151.5,1295.0234" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="151.5" y="1277.2813">Cancel heartbeat context</text><path d="M320,1269.2129 L320,1294.2129 L506,1294.2129 L506,1279.2129 L496,1269.2129 L320,1269.2129 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M496,1269.2129 L496,1279.2129 L506,1279.2129 L496,1269.2129 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="326" y="1286.7813">Heartbeat goroutine stops</text><polygon fill="#666666" points="932.5,1320.334,942.5,1324.334,932.5,1328.334,936.5,1324.334" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="144.5" x2="938.5" y1="1324.334" y2="1324.334"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="151.5" y="1319.5918">Remove lock file</text><polygon fill="#666666" points="1169.5,1349.6445,1179.5,1353.6445,1169.5,1357.6445,1173.5,1353.6445" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="954.5" x2="1175.5" y1="1353.6445" y2="1353.6445"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="961.5" y="1348.9023">Delete lock file</text><polygon fill="#666666" points="965.5,1378.9551,955.5,1382.9551,965.5,1386.9551,961.5,1382.9551" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959.5" x2="1180.5" y1="1382.9551" y2="1382.9551"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="971.5" y="1378.2129">Lock removed</text><polygon fill="#666666" points="155.5,1408.2656,145.5,1412.2656,155.5,1416.2656,151.5,1412.2656" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="149.5" x2="948.5" y1="1412.2656" y2="1412.2656"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="161.5" y="1407.5234">Lock released</text><line style="stroke:#666666;stroke-width:1.0;" x1="144.5" x2="186.5" y1="1461.8867" y2="1461.8867"/><line style="stroke:#666666;stroke-width:1.0;" x1="186.5" x2="186.5" y1="1461.8867" y2="1474.8867"/><line style="stroke:#666666;stroke-width:1.0;" x1="139.5" x2="186.5" y1="1474.8867" y2="1474.8867"/><polygon fill="#666666" points="149.5,1470.8867,139.5,1474.8867,149.5,1478.8867,145.5,1474.8867" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="151.5" y="1441.834">Set local atomic flag</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="151.5" y="1457.1445">pauseSubtreeProcessing = false</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1385.5" x="0" y="1498.542"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="1498.542" y2="1498.542"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="1501.542" y2="1501.542"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="235" x="575.25" y="1487.8867"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="217" x="581.25" y="1504.4551">Processing Resumes on All Pods</text><line style="stroke:#666666;stroke-width:1.0;" x1="363.5" x2="410.5" y1="1537.5078" y2="1537.5078"/><line style="stroke:#666666;stroke-width:1.0;" x1="410.5" x2="410.5" y1="1537.5078" y2="1550.5078"/><line style="stroke:#666666;stroke-width:1.0;" x1="369.5" x2="410.5" y1="1550.5078" y2="1550.5078"/><polygon fill="#666666" points="379.5,1546.5078,369.5,1550.5078,379.5,1554.5078,375.5,1550.5078" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="375.5" y="1532.7656">Next Kafka message</text><line style="stroke:#666666;stroke-width:1.0;" x1="368.5" x2="410.5" y1="1584.8184" y2="1584.8184"/><line style="stroke:#666666;stroke-width:1.0;" x1="410.5" x2="410.5" y1="1584.8184" y2="1597.8184"/><line style="stroke:#666666;stroke-width:1.0;" x1="369.5" x2="410.5" y1="1597.8184" y2="1597.8184"/><polygon fill="#666666" points="379.5,1593.8184,369.5,1597.8184,379.5,1601.8184,375.5,1597.8184" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="375.5" y="1580.0762">Check isPauseActive()</text><polygon fill="#666666" points="932.5,1623.1289,942.5,1627.1289,932.5,1631.1289,936.5,1627.1289" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="368.5" x2="938.5" y1="1627.1289" y2="1627.1289"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="375.5" y="1622.3867">IsPauseActive()</text><polygon fill="#666666" points="1169.5,1652.4395,1179.5,1656.4395,1169.5,1660.4395,1173.5,1656.4395" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="954.5" x2="1175.5" y1="1656.4395" y2="1656.4395"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="961.5" y="1651.6973">Check if lock exists</text><polygon fill="#666666" points="965.5,1681.75,955.5,1685.75,965.5,1689.75,961.5,1685.75" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959.5" x2="1180.5" y1="1685.75" y2="1685.75"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="971.5" y="1681.0078">Lock does not exist</text><polygon fill="#666666" points="379.5,1711.0605,369.5,1715.0605,379.5,1719.0605,375.5,1715.0605" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="373.5" x2="948.5" y1="1715.0605" y2="1715.0605"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="385.5" y="1710.3184">Pause is active = false</text><line style="stroke:#666666;stroke-width:1.0;" x1="368.5" x2="410.5" y1="1749.3711" y2="1749.3711"/><line style="stroke:#666666;stroke-width:1.0;" x1="410.5" x2="410.5" y1="1749.3711" y2="1762.3711"/><line style="stroke:#666666;stroke-width:1.0;" x1="363.5" x2="410.5" y1="1762.3711" y2="1762.3711"/><polygon fill="#666666" points="373.5,1758.3711,363.5,1762.3711,373.5,1766.3711,369.5,1762.3711" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="375.5" y="1744.6289">Continue processing subtree</text><line style="stroke:#666666;stroke-width:1.0;" x1="656.5" x2="703.5" y1="1781.6816" y2="1781.6816"/><line style="stroke:#666666;stroke-width:1.0;" x1="703.5" x2="703.5" y1="1781.6816" y2="1794.6816"/><line style="stroke:#666666;stroke-width:1.0;" x1="662.5" x2="703.5" y1="1794.6816" y2="1794.6816"/><polygon fill="#666666" points="672.5,1790.6816,662.5,1794.6816,672.5,1798.6816,668.5,1794.6816" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="668.5" y="1776.9395">Next Kafka message</text><line style="stroke:#666666;stroke-width:1.0;" x1="661.5" x2="703.5" y1="1828.9922" y2="1828.9922"/><line style="stroke:#666666;stroke-width:1.0;" x1="703.5" x2="703.5" y1="1828.9922" y2="1841.9922"/><line style="stroke:#666666;stroke-width:1.0;" x1="662.5" x2="703.5" y1="1841.9922" y2="1841.9922"/><polygon fill="#666666" points="672.5,1837.9922,662.5,1841.9922,672.5,1845.9922,668.5,1841.9922" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="668.5" y="1824.25">Check isPauseActive()</text><polygon fill="#666666" points="932.5,1867.3027,942.5,1871.3027,932.5,1875.3027,936.5,1871.3027" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="661.5" x2="938.5" y1="1871.3027" y2="1871.3027"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="668.5" y="1866.5605">IsPauseActive()</text><polygon fill="#666666" points="1169.5,1896.6133,1179.5,1900.6133,1169.5,1904.6133,1173.5,1900.6133" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="954.5" x2="1175.5" y1="1900.6133" y2="1900.6133"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="961.5" y="1895.8711">Check if lock exists</text><polygon fill="#666666" points="965.5,1925.9238,955.5,1929.9238,965.5,1933.9238,961.5,1929.9238" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959.5" x2="1180.5" y1="1929.9238" y2="1929.9238"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="971.5" y="1925.1816">Lock does not exist</text><polygon fill="#666666" points="672.5,1955.2344,662.5,1959.2344,672.5,1963.2344,668.5,1959.2344" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="666.5" x2="948.5" y1="1959.2344" y2="1959.2344"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="678.5" y="1954.4922">Pause is active = false</text><line style="stroke:#666666;stroke-width:1.0;" x1="661.5" x2="703.5" y1="1993.5449" y2="1993.5449"/><line style="stroke:#666666;stroke-width:1.0;" x1="703.5" x2="703.5" y1="1993.5449" y2="2006.5449"/><line style="stroke:#666666;stroke-width:1.0;" x1="656.5" x2="703.5" y1="2006.5449" y2="2006.5449"/><polygon fill="#666666" points="666.5,2002.5449,656.5,2006.5449,666.5,2010.5449,662.5,2006.5449" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="668.5" y="1988.8027">Continue processing subtree</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1385.5" x="0" y="2030.2002"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="2030.2002" y2="2030.2002"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1385.5" y1="2033.2002" y2="2033.2002"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="184" x="600.75" y="2019.5449"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="166" x="606.75" y="2036.1133">Crash Recovery Scenario</text><path d="M5,2057.8555 L5,2082.8555 L264,2082.8555 L264,2067.8555 L254,2057.8555 L5,2057.8555 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M254,2057.8555 L254,2067.8555 L264,2067.8555 L254,2057.8555 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="11" y="2075.4238">Pod A crashes during block validation</text><line style="stroke:#666666;stroke-width:1.0;" x1="134.5" x2="176.5" y1="2109.4766" y2="2109.4766"/><line style="stroke:#666666;stroke-width:1.0;" x1="176.5" x2="176.5" y1="2109.4766" y2="2122.4766"/><line style="stroke:#666666;stroke-width:1.0;" x1="147.5" x2="176.5" y1="2122.4766" y2="2122.4766"/><line style="stroke:#666666;stroke-width:2.0;" x1="140.5" x2="150.5" y1="2117.4766" y2="2127.4766"/><line style="stroke:#666666;stroke-width:2.0;" x1="140.5" x2="150.5" y1="2127.4766" y2="2117.4766"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="141.5" y="2104.7344">Crash/Terminate</text><path d="M259,2096.666 L259,2121.666 L471,2121.666 L471,2106.666 L461,2096.666 L259,2096.666 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M461,2096.666 L461,2106.666 L471,2106.666 L461,2096.666 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="265" y="2114.2344">Heartbeat stops updating lock</text><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="182" x="567" y="2155.1113">After timeout period (10 seconds)</text><line style="stroke:#666666;stroke-width:1.0;" x1="363.5" x2="410.5" y1="2187.7422" y2="2187.7422"/><line style="stroke:#666666;stroke-width:1.0;" x1="410.5" x2="410.5" y1="2187.7422" y2="2200.7422"/><line style="stroke:#666666;stroke-width:1.0;" x1="369.5" x2="410.5" y1="2200.7422" y2="2200.7422"/><polygon fill="#666666" points="379.5,2196.7422,369.5,2200.7422,379.5,2204.7422,375.5,2200.7422" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="375.5" y="2183">Process subtree message</text><polygon fill="#666666" points="932.5,2231.0527,942.5,2235.0527,932.5,2239.0527,936.5,2235.0527" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="368.5" x2="938.5" y1="2235.0527" y2="2235.0527"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="375.5" y="2230.3105">IsPauseActive()</text><polygon fill="#666666" points="1169.5,2271.0186,1179.5,2275.0186,1169.5,2279.0186,1173.5,2275.0186" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="954.5" x2="1175.5" y1="2275.0186" y2="2275.0186"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="961.5" y="2270.2764">Check lock age</text><path d="M1186,2248.0527 L1186,2288.0527 L1375,2288.0527 L1375,2258.0527 L1365,2248.0527 L1186,2248.0527 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1365,2248.0527 L1365,2258.0527 L1375,2258.0527 L1365,2248.0527 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1192" y="2265.6211">Lock timestamp &gt; timeout</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1192" y="2280.9316">(stale lock detected)</text><polygon fill="#666666" points="1169.5,2310.9844,1179.5,2314.9844,1169.5,2318.9844,1173.5,2314.9844" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="954.5" x2="1175.5" y1="2314.9844" y2="2314.9844"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="961.5" y="2310.2422">Remove stale lock</text><polygon fill="#666666" points="965.5,2340.2949,955.5,2344.2949,965.5,2348.2949,961.5,2344.2949" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="959.5" x2="1180.5" y1="2344.2949" y2="2344.2949"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="971.5" y="2339.5527">Stale lock cleaned up</text><polygon fill="#666666" points="379.5,2369.6055,369.5,2373.6055,379.5,2377.6055,375.5,2373.6055" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="373.5" x2="948.5" y1="2373.6055" y2="2373.6055"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="385.5" y="2368.8633">Pause is active = false</text><line style="stroke:#666666;stroke-width:1.0;" x1="368.5" x2="410.5" y1="2407.916" y2="2407.916"/><line style="stroke:#666666;stroke-width:1.0;" x1="410.5" x2="410.5" y1="2407.916" y2="2420.916"/><line style="stroke:#666666;stroke-width:1.0;" x1="363.5" x2="410.5" y1="2420.916" y2="2420.916"/><polygon fill="#666666" points="373.5,2416.916,363.5,2420.916,373.5,2424.916,369.5,2420.916" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="375.5" y="2403.1738">Continue processing</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="154" x="0" y="2522.5605">Last Modified On: 31-Oct-2025</text><!--SRC=[rLTjRzis4FwkNt5mCSm6ahJRi64mvWAM4cD3upMBctqAOD3KoIOiYIv9fGc6_VSTAKgMfVWbxOfX-c2RrDtnxhcxXsUz5lc6APR1Wl7rKiaYZoEPIWMl9cycFqycWQubOanOaPg9p8qN-S4z3H6cbFpaN_xadY3u5Yun4Jd2GgeObOQ4th8q1KmnmzpeXZujXNc2lmA0q4dlsgBTjfUNxWd-3XfME7cePFgbPkZJ22usB3UVPufYIH4kXJPAB0g3CTomGYDCaQzOBdJce9WL2wCGuK-MYfWP8VCWQ1xTkv4nZE_pVfXAlcw83Nh0DD3RSLS-9FdAy8sI7BKM-RBM2BiQqM6DAA13sOAH-xtPYYaAPcQaOaialJyAgOgibFMxWKzbRpwVtOKVRg-kvZVZkzdLV7vXmoZDMZIkQHK4en6qmoDBvAC6-kKGWD4e26oqSFxMHJs4Q8LyxVIyvxe_04wrXN70k14Fp609K4jHet67RmFjS_CusAVaOnh2c7yiXCBQyPPM5Rl_TkTLekIjGYlamam4LSOdOLPWH8RQi6mJrA9mtZpJxN2d6syjrw6urwpqApu3HLrbavGKENSeAZI5oaarnewVBLHcQAntB0LcP2Ou92bRtbCta5yUu2rWC0AZYguDcpHO8Nqko6LOIkeDG-s_YosykXRBbGbJif1BsbHs2JBnPdwj3HGRAWVK3hRx71zGFJdCoEhhxocHrEonfXhqx3I47wlDGJT_TyvOcO8jyC-doyjcCXQ9u6L9Mfqca6MPT3Qecj-R5Igxr6ML-jOdU4oXgr8EFMxXi6evqBu5oJTjVKgKpE0TIzPi1y2mhLyU8hGxPcmbiJ_OfrBZyTkkFFJZ1bbnQ_BqwYuTI4fmyP4CQM1vJ3vH4AXN1-kxb3y3Q_UNAh_jQhSmEHJ9fFCAgoBSKziDV6PhiO5DNRrdlYzgd8s4ZmKMxUo6dRMr6tcxqOlp5hNrZ-UjeV8_pLlqqhmryFdCl4MTzRDNJ2IpJOgMNhgNIodyi1NcNhWbT-iPrz5aYQ8b8rJ4nuF3rr34SevfWotjv8AFfa69JIgikHIqaHlzpFrqYvbyQ5mnfnR19Th06dg7SgxS8Nll8dy3VOqB9s6fFf5_6tgtg0ig5pj8Z6diT9pS9U3V2VUoOQlQQh7dANnxZ62_f2aFvYIM521LJIbx4d5smAnSQWLA9Ido0XjDM97TCMuy0cbq4XKUuxx_2DBefP0s0pqPqfAs8iNqYigOIpVzp3ZcJ0dfYjWnXTttBLMEojngaFjneQpnHOlAwZvyh8Z8oh_-W2eJEHszXtySwvG3cRMQkidzuk82neaX1ppxmmR9kHZwtxsf9p4WgHCddZrTz- -at-5WXPe1NkzCW_2s2eI6Ijf9FIt6H93SM4f__W1FlLkDVSKrszhan9GqcXEaNxbZkvsQOcBexwUqYRjcsi3KpRdapFjy2D_OqRVVY-FpwNHw_aHFRn3y0m00]--></g></svg>